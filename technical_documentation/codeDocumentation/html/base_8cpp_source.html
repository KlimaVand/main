<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Fasset: C:/main/trunk/src/base/base.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fasset</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">C:/main/trunk/src/base/base.cpp</div>  </div>
</div>
<div class="contents">
<a href="base_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************\</span>
<a name="l00002"></a>00002 <span class="comment"> $URL$</span>
<a name="l00003"></a>00003 <span class="comment"> $LastChangedDate$</span>
<a name="l00004"></a>00004 <span class="comment"> $LastChangedRevision$</span>
<a name="l00005"></a>00005 <span class="comment"> $LastChangedBy$</span>
<a name="l00006"></a>00006 <span class="comment">\****************************************************************************/</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;<a class="code" href="base_8h.html">base.h</a>&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="message_8h.html">message.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">common.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;../tools/fileAccess.h&quot;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="base_8cpp.html#ad69ce4f26fbc16773b4fbca849d66a47">00014</a> <a class="code" href="classfile_access.html">fileAccess</a> <a class="code" href="base_8cpp.html#ad69ce4f26fbc16773b4fbca849d66a47">filesAcceess</a>;
<a name="l00015"></a>00015 <span class="comment">/****************************************************************************\</span>
<a name="l00016"></a>00016 <span class="comment"> Default Constructor</span>
<a name="l00017"></a>00017 <span class="comment">\****************************************************************************/</span>
<a name="l00018"></a><a class="code" href="classbase.html#a3b0362be8b58605e4975b969dd8131a4">00018</a> <a class="code" href="classbase.html#a3b0362be8b58605e4975b969dd8131a4">base::base</a>()
<a name="l00019"></a>00019 {
<a name="l00020"></a>00020    <a class="code" href="classbase.html#ad2f5f5c9ec517641f63e52646cf49ad9">InitVariables</a>();
<a name="l00021"></a>00021 }
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="comment">/****************************************************************************\</span>
<a name="l00024"></a>00024 <span class="comment"> Constructor with arguments</span>
<a name="l00025"></a>00025 <span class="comment">\****************************************************************************/</span>
<a name="l00026"></a><a class="code" href="classbase.html#aa3d07f04318c6e353a7ea6652c548540">00026</a> <a class="code" href="classbase.html#a3b0362be8b58605e4975b969dd8131a4">base::base</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * aName, <span class="keyword">const</span> <span class="keywordtype">int</span> aIndex, <span class="keyword">const</span> <a class="code" href="classbase.html">base</a> * aOwner)
<a name="l00027"></a>00027 {
<a name="l00028"></a>00028    <a class="code" href="classbase.html#ad2f5f5c9ec517641f63e52646cf49ad9">InitVariables</a>();
<a name="l00029"></a>00029    strcpy(<a class="code" href="classbase.html#abd8f99d007cb1914c0837488829974ec">Name</a>,aName);
<a name="l00030"></a>00030    <a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>      = aIndex;
<a name="l00031"></a>00031    <a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>      = aOwner;
<a name="l00032"></a>00032 }
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">/****************************************************************************\</span>
<a name="l00035"></a>00035 <span class="comment">\****************************************************************************/</span>
<a name="l00036"></a><a class="code" href="classbase.html#ad2f5f5c9ec517641f63e52646cf49ad9">00036</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#ad2f5f5c9ec517641f63e52646cf49ad9">base::InitVariables</a>()
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038    strcpy(<a class="code" href="classbase.html#abd8f99d007cb1914c0837488829974ec">Name</a>,<span class="stringliteral">&quot;&quot;</span>);
<a name="l00039"></a>00039    <a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>      =-1;
<a name="l00040"></a>00040    <a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>      = NULL;
<a name="l00041"></a>00041    <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>    = 0;
<a name="l00042"></a>00042    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>       = NULL;
<a name="l00043"></a>00043    <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00044"></a>00044    <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>   = <span class="keyword">false</span>;
<a name="l00045"></a>00045    <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a>      = <span class="keyword">false</span>;
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="comment">/****************************************************************************\</span>
<a name="l00049"></a>00049 <span class="comment"> Copy Constructor</span>
<a name="l00050"></a>00050 <span class="comment"> Does NOT copy &quot;file&quot;, as there is no copy constructor for &quot;fstream&quot;</span>
<a name="l00051"></a>00051 <span class="comment">\****************************************************************************/</span>
<a name="l00052"></a><a class="code" href="classbase.html#acba16924ff51ea95c2479951a459efb7">00052</a> <a class="code" href="classbase.html#a3b0362be8b58605e4975b969dd8131a4">base::base</a>(<span class="keyword">const</span> <a class="code" href="classbase.html">base</a>&amp; aBase)
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054    strcpy(<a class="code" href="classbase.html#abd8f99d007cb1914c0837488829974ec">Name</a>,aBase.<a class="code" href="classbase.html#abd8f99d007cb1914c0837488829974ec">Name</a>);
<a name="l00055"></a>00055    <a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>      = aBase.<a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>;
<a name="l00056"></a>00056    <a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>      = aBase.<a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>;
<a name="l00057"></a>00057    <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>    = aBase.<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>;
<a name="l00058"></a>00058    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>       = NULL;
<a name="l00059"></a>00059    <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00060"></a>00060    <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>   = <span class="keyword">false</span>;
<a name="l00061"></a>00061    <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a>      = <span class="keyword">false</span>;
<a name="l00062"></a>00062 }
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="comment">/****************************************************************************\</span>
<a name="l00065"></a>00065 <span class="comment"> Destructor</span>
<a name="l00066"></a>00066 <span class="comment">\****************************************************************************/</span>
<a name="l00067"></a><a class="code" href="classbase.html#aab55b674bac3fd0abec406951dbda4eb">00067</a> <a class="code" href="classbase.html#aab55b674bac3fd0abec406951dbda4eb">base::~base</a>()
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069    <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>!=NULL)
<a name="l00070"></a>00070    {
<a name="l00071"></a>00071 <span class="preprocessor">#ifndef UNIX</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span><span class="preprocessor">        #ifndef CYGWIN</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="preprocessor">           #ifndef VS2008</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>                <span class="keyword">delete</span> <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>;
<a name="l00075"></a>00075 <span class="preprocessor">                #endif</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span><span class="preprocessor">        #endif</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span>        <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>=NULL;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080    }
<a name="l00081"></a>00081 }
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="comment">/****************************************************************************\</span>
<a name="l00084"></a>00084 <span class="comment"> Assignment operator</span>
<a name="l00085"></a>00085 <span class="comment">\****************************************************************************/</span>
<a name="l00086"></a><a class="code" href="classbase.html#abd18e2130f975aacfde1833ad137e3c5">00086</a> <a class="code" href="classbase.html">base</a>&amp; <a class="code" href="classbase.html#abd18e2130f975aacfde1833ad137e3c5">base::operator = </a>(<span class="keyword">const</span> <a class="code" href="classbase.html">base</a>&amp; aBase)
<a name="l00087"></a>00087 {
<a name="l00088"></a>00088    <span class="keywordflow">if</span>(<span class="keyword">this</span>==&amp;aBase)
<a name="l00089"></a>00089       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00090"></a>00090    strcpy(<a class="code" href="classbase.html#abd8f99d007cb1914c0837488829974ec">Name</a>,aBase.<a class="code" href="classbase.html#abd8f99d007cb1914c0837488829974ec">Name</a>);
<a name="l00091"></a>00091    <a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>      = aBase.<a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>;
<a name="l00092"></a>00092    <a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>      = aBase.<a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>;
<a name="l00093"></a>00093    <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>    = aBase.<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>;
<a name="l00094"></a>00094    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>       = NULL;
<a name="l00095"></a>00095    <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00096"></a>00096    <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a>      = <span class="keyword">false</span>;
<a name="l00097"></a>00097    <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>   = <span class="keyword">false</span>;
<a name="l00098"></a>00098    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="comment">/****************************************************************************\</span>
<a name="l00102"></a>00102 <span class="comment"> Terminates the execution with an error message</span>
<a name="l00103"></a>00103 <span class="comment">\****************************************************************************/</span>
<a name="l00104"></a><a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">00104</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">base::Terminate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * c1, <span class="keyword">const</span> <span class="keywordtype">char</span> * c2, <span class="keyword">const</span> <span class="keywordtype">char</span> * c3, <span class="keyword">const</span> <span class="keywordtype">char</span> * c4)
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106    <span class="keywordflow">if</span> (strlen(c1)&gt;0)
<a name="l00107"></a>00107       cout &lt;&lt; endl &lt;&lt; c1 &lt;&lt; c2 &lt;&lt; c3 &lt;&lt; c4 &lt;&lt; endl;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Program terminated. &quot;</span> &lt;&lt; endl;
<a name="l00110"></a>00110 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>   <span class="keywordtype">char</span> ch=getch();
<a name="l00112"></a>00112    <span class="keywordflow">if</span> (ch==<span class="charliteral">&#39;y&#39;</span> || ch==<span class="charliteral">&#39;Y&#39;</span> )
<a name="l00113"></a>00113       exit(99);
<a name="l00114"></a>00114 <span class="preprocessor">#else</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>        exit(99);
<a name="l00116"></a>00116 <span class="preprocessor">#endif</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>}
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">/****************************************************************************\</span>
<a name="l00120"></a>00120 <span class="comment"> Upon call of this function, every error in parameter reading will cause an</span>
<a name="l00121"></a>00121 <span class="comment"> unconditional halt of the program. This halt will be accompagnied by</span>
<a name="l00122"></a>00122 <span class="comment"> explanatory text.</span>
<a name="l00123"></a>00123 <span class="comment"> &quot;UnsetCritical()&quot; ends this mode, as well as &quot;CloseInputFile()&quot;</span>
<a name="l00124"></a>00124 <span class="comment">\****************************************************************************/</span>
<a name="l00125"></a><a class="code" href="classbase.html#a80052a7eeb8bce90247aedd358cc1cf6">00125</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a80052a7eeb8bce90247aedd358cc1cf6">base::SetCritical</a>()
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127    <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>=<span class="keyword">true</span>;
<a name="l00128"></a>00128 }
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="comment">/****************************************************************************\</span>
<a name="l00131"></a>00131 <span class="comment">\****************************************************************************/</span>
<a name="l00132"></a><a class="code" href="classbase.html#a5c9e361dfd9a7804a33b7baa8f5a4b1f">00132</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a5c9e361dfd9a7804a33b7baa8f5a4b1f">base::UnsetCritical</a>()
<a name="l00133"></a>00133 {
<a name="l00134"></a>00134    <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>=<span class="keyword">false</span>;
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classbase.html#a82e26b779409159be745275990ef9c99">00137</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#a82e26b779409159be745275990ef9c99">base::OpenInputFileString</a>(<span class="keywordtype">string</span> fileName)
<a name="l00138"></a>00138 {
<a name="l00139"></a>00139         <span class="keywordtype">char</span> * tmp=<span class="keyword">new</span> <span class="keywordtype">char</span>[fileName.size()+1];
<a name="l00140"></a>00140         strcpy(tmp,fileName.c_str());
<a name="l00141"></a>00141         <span class="keywordtype">bool</span> returnValue=<a class="code" href="classbase.html#a551ea12cd21bfc786892b5bb8c333ee0">OpenInputFile</a>(tmp);
<a name="l00142"></a>00142         <span class="keyword">delete</span> [] tmp;
<a name="l00143"></a>00143         <span class="keywordflow">return</span> returnValue;
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 <span class="comment">/****************************************************************************\</span>
<a name="l00146"></a>00146 <span class="comment">\****************************************************************************/</span>
<a name="l00147"></a><a class="code" href="classbase.html#a551ea12cd21bfc786892b5bb8c333ee0">00147</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#a551ea12cd21bfc786892b5bb8c333ee0">base::OpenInputFile</a>(<span class="keywordtype">char</span> * fileName)
<a name="l00148"></a>00148 {
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 
<a name="l00151"></a>00151    <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a> = 0;
<a name="l00152"></a>00152    strcpy(<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>,fileName);
<a name="l00153"></a>00153    <span class="comment">//cout&lt;&lt;&quot;trying to open &quot;&lt;&lt;fileNme&lt;&lt;endl;</span>
<a name="l00154"></a>00154    <span class="keywordtype">bool</span> succes = <span class="keyword">false</span>;
<a name="l00155"></a>00155 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>   <span class="keywordtype">char</span> buffer[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00157"></a>00157 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>   getcwd(buffer, <a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>);
<a name="l00159"></a>00159 <span class="preprocessor">#else</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>   strncpy(buffer, fileName, <a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>);
<a name="l00161"></a>00161 <span class="preprocessor">#endif</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>
<a name="l00163"></a>00163         <span class="keywordflow">if</span>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>==NULL)
<a name="l00164"></a>00164       <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> = <span class="keyword">new</span> fstream;
<a name="l00165"></a>00165 <span class="preprocessor">#ifndef BUILDER</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span>   <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;open(fileName, ios::in | ios::nocreate);
<a name="l00167"></a>00167 <span class="preprocessor">#else</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>   <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;open(fileName, ios::in);
<a name="l00169"></a>00169 <span class="preprocessor">#endif</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span>   <span class="keywordflow">if</span>(!(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>) &amp;&amp; (strlen(buffer)&gt;4))
<a name="l00171"></a>00171    {
<a name="l00172"></a>00172         chdir(<span class="stringliteral">&quot;..&quot;</span>);                                 <span class="comment">// check if file is in directory above</span>
<a name="l00173"></a>00173       <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;close();
<a name="l00174"></a>00174       succes = <a class="code" href="classbase.html#a551ea12cd21bfc786892b5bb8c333ee0">OpenInputFile</a>(fileName);
<a name="l00175"></a>00175    }
<a name="l00176"></a>00176    <span class="keywordflow">else</span>
<a name="l00177"></a>00177         <span class="keywordflow">return</span> (*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>);
<a name="l00178"></a>00178    chdir(buffer);                                  <span class="comment">// change to original directory</span>
<a name="l00179"></a>00179 <span class="preprocessor">#else</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>   <span class="keywordtype">char</span> baseInputDirectory[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00181"></a>00181    strcpy(baseInputDirectory,filesAcceess.<a class="code" href="classfile_access.html#a39b158208424b8cfb167bc93ce30a351">getCurrentPath</a>().c_str());
<a name="l00182"></a>00182 <span class="comment">//   cout &lt;&lt; baseInputDirectory &lt;&lt; endl;</span>
<a name="l00183"></a>00183 
<a name="l00184"></a>00184         <span class="keywordflow">if</span>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>==NULL)
<a name="l00185"></a>00185         {
<a name="l00186"></a>00186                 <span class="keyword">delete</span> <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>;
<a name="l00187"></a>00187           <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> = <span class="keyword">new</span> fstream();
<a name="l00188"></a>00188         }
<a name="l00189"></a>00189    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;open(fileName, ios::in);
<a name="l00190"></a>00190    <span class="keywordflow">if</span>((!<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;is_open()) &amp;&amp; (strlen(baseInputDirectory)&gt;4))
<a name="l00191"></a>00191    {
<a name="l00192"></a>00192       <span class="keywordflow">if</span> (filesAcceess.<a class="code" href="classfile_access.html#a67d1cb63b2ec197b07175984c3cc6419">changeDir</a>(<span class="stringliteral">&quot;..&quot;</span>)==0)                                 <span class="comment">// check if file is in directory above</span>
<a name="l00193"></a>00193          <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;close();
<a name="l00194"></a>00194       <span class="keywordflow">else</span>
<a name="l00195"></a>00195       {
<a name="l00196"></a>00196          <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00197"></a>00197          {
<a name="l00198"></a>00198                  <span class="comment">//fileAccess hd;</span>
<a name="l00199"></a>00199                  <span class="comment">//             cout&lt;&lt;hd.getCurrentPath()&lt;&lt;endl;</span>
<a name="l00200"></a>00200 
<a name="l00201"></a>00201                  <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>(<span class="stringliteral">&quot;File named [&quot;</span>,fileName,<span class="stringliteral">&quot;] not found&quot;</span>);
<a name="l00202"></a>00202 
<a name="l00203"></a>00203          }
<a name="l00204"></a>00204       }
<a name="l00205"></a>00205       <span class="keyword">delete</span> <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>;
<a name="l00206"></a>00206       <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> = NULL;
<a name="l00207"></a>00207       succes = <a class="code" href="classbase.html#a551ea12cd21bfc786892b5bb8c333ee0">OpenInputFile</a>(fileName);
<a name="l00208"></a>00208    }
<a name="l00209"></a>00209    <span class="keywordflow">else</span>
<a name="l00210"></a>00210    {
<a name="l00211"></a>00211       <span class="keywordflow">if</span>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;is_open())
<a name="l00212"></a>00212          <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00213"></a>00213       <span class="keywordflow">else</span>
<a name="l00214"></a>00214          <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00215"></a>00215    }
<a name="l00216"></a>00216    filesAcceess.<a class="code" href="classfile_access.html#a67d1cb63b2ec197b07175984c3cc6419">changeDir</a>(baseInputDirectory);        <span class="comment">// change to original directory</span>
<a name="l00217"></a>00217 <span class="preprocessor">#endif</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (!succes)
<a name="l00219"></a>00219    {
<a name="l00220"></a>00220           <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00221"></a>00221           <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00222"></a>00222           {
<a name="l00223"></a>00223                   <span class="comment">//fileAccess hd;</span>
<a name="l00224"></a>00224                   <span class="comment">//            cout&lt;&lt;hd.getCurrentPath()&lt;&lt;endl;</span>
<a name="l00225"></a>00225 
<a name="l00226"></a>00226                   <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>(<span class="stringliteral">&quot;File named [&quot;</span>,fileName,<span class="stringliteral">&quot;] not found&quot;</span>);
<a name="l00227"></a>00227           }
<a name="l00228"></a>00228    }
<a name="l00229"></a>00229    <span class="keywordflow">return</span> succes;
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">/****************************************************************************\</span>
<a name="l00233"></a>00233 <span class="comment">\****************************************************************************/</span>
<a name="l00234"></a><a class="code" href="classbase.html#a7ca584f6b100bb78cbaec8cfaaf9a30c">00234</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a7ca584f6b100bb78cbaec8cfaaf9a30c">base::DeleteInputFile</a>()
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236    <span class="keywordflow">if</span>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>!=NULL)
<a name="l00237"></a>00237       <span class="keyword">delete</span> <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>;
<a name="l00238"></a>00238    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>=NULL;
<a name="l00239"></a>00239 }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="comment">/****************************************************************************\</span>
<a name="l00242"></a>00242 <span class="comment">\****************************************************************************/</span>
<a name="l00243"></a><a class="code" href="classbase.html#a56480e2d42e0f66e1416dbf064a913d1">00243</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a56480e2d42e0f66e1416dbf064a913d1">base::CloseInputFile</a>()
<a name="l00244"></a>00244 {
<a name="l00245"></a>00245    <span class="keywordflow">if</span>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>)
<a name="l00246"></a>00246       <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;close();
<a name="l00247"></a>00247    <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00248"></a>00248    <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>=<span class="keyword">false</span>;
<a name="l00249"></a>00249    <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a>=<span class="keyword">false</span>;
<a name="l00250"></a>00250    <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>=0;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="comment">//   file=NULL;</span>
<a name="l00253"></a>00253 }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="comment">/****************************************************************************\</span>
<a name="l00256"></a>00256 <span class="comment"> Reads one line from &#39;f&#39; into &#39;s&#39;, max. &#39;maxlen&#39;-1 charcters</span>
<a name="l00257"></a>00257 <span class="comment">\****************************************************************************/</span>
<a name="l00258"></a><a class="code" href="classbase.html#a25bbc64113a939ec258c996b3000c112">00258</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a25bbc64113a939ec258c996b3000c112">base::ReadLine</a>(fstream * f,<span class="keywordtype">char</span> * s,<span class="keywordtype">int</span> maxlen)
<a name="l00259"></a>00259 {
<a name="l00260"></a>00260    <span class="keywordtype">int</span> i=-1;
<a name="l00261"></a>00261    <span class="keywordflow">while</span> (i&lt;(maxlen-1))
<a name="l00262"></a>00262    {
<a name="l00263"></a>00263       i++;
<a name="l00264"></a>00264       s[i]=f-&gt;peek();
<a name="l00265"></a>00265       <span class="keywordflow">if</span> (s[i]==EOF)
<a name="l00266"></a>00266          <span class="keywordflow">break</span>;
<a name="l00267"></a>00267       f-&gt;get();
<a name="l00268"></a>00268       <span class="keywordflow">if</span> (s[i]==<span class="charliteral">&#39;\n&#39;</span>)
<a name="l00269"></a>00269          <span class="keywordflow">break</span>;
<a name="l00270"></a>00270       <span class="keywordflow">if</span> (s[i]==<span class="charliteral">&#39;=&#39;</span>) <span class="comment">// Used in FARM-N internet interface for FASSET</span>
<a name="l00271"></a>00271          s[i]=<span class="charliteral">&#39; &#39;</span>;
<a name="l00272"></a>00272    }
<a name="l00273"></a>00273    s[i]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00274"></a>00274 }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">/****************************************************************************\</span>
<a name="l00278"></a>00278 <span class="comment"> Removes all spaces</span>
<a name="l00279"></a>00279 <span class="comment">\****************************************************************************/</span>
<a name="l00280"></a><a class="code" href="classbase.html#af2a52574d11ffe404e59c3b609b9853c">00280</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#af2a52574d11ffe404e59c3b609b9853c">base::EatSpaces</a>(<span class="keywordtype">char</span> * s)
<a name="l00281"></a>00281 {
<a name="l00282"></a>00282    <span class="keywordtype">int</span> source=0;
<a name="l00283"></a>00283    <span class="keywordtype">int</span> dest=0;
<a name="l00284"></a>00284    <span class="keywordflow">while</span> (s[source]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00285"></a>00285    {
<a name="l00286"></a>00286       <span class="keywordflow">while</span> (s[source]==<span class="charliteral">&#39; &#39;</span>)
<a name="l00287"></a>00287          source++;
<a name="l00288"></a>00288       s[dest]=s[source];
<a name="l00289"></a>00289       dest++;
<a name="l00290"></a>00290       source++;
<a name="l00291"></a>00291    }
<a name="l00292"></a>00292    s[dest]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00293"></a>00293 }
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 <span class="comment">/****************************************************************************\</span>
<a name="l00296"></a>00296 <span class="comment">\****************************************************************************/</span>
<a name="l00297"></a><a class="code" href="classbase.html#a4f63fec241f5857f3fe28b43f85d0fa5">00297</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#a4f63fec241f5857f3fe28b43f85d0fa5">base::GetSectionNumbers</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * sectionName, <span class="keywordtype">int</span> * firstNum, <span class="keywordtype">int</span> * numOfSections)
<a name="l00298"></a>00298 {
<a name="l00299"></a>00299    <span class="keywordflow">if</span> ((<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;eof()!=0) || (!(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>)))
<a name="l00300"></a>00300    {
<a name="l00301"></a>00301         <a class="code" href="classfile_access.html">fileAccess</a> <a class="code" href="climate_8cpp.html#a2ddca9dce78582e7c20399e52c93b2d3">hd</a>;
<a name="l00302"></a>00302                 cout&lt;&lt; <span class="stringliteral">&quot; Current path: &quot;</span> &lt;&lt; hd.<a class="code" href="classfile_access.html#a39b158208424b8cfb167bc93ce30a351">getCurrentPath</a>() &lt;&lt;endl;
<a name="l00303"></a>00303           <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;base::GetSectionNumbers - previous attempt to read past end of file &quot;</span>,<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>);
<a name="l00304"></a>00304    }
<a name="l00305"></a>00305 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00306"></a>00306 <span class="preprocessor"></span>   <span class="keywordtype">char</span> buffer[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00307"></a>00307    <span class="keywordtype">char</span> txt[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00308"></a>00308    <span class="keywordtype">char</span> section[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00309"></a>00309    <span class="keywordtype">bool</span> searching = <span class="keyword">true</span>;
<a name="l00310"></a>00310    *numOfSections = 0;
<a name="l00311"></a>00311    <span class="keywordtype">int</span> high=-9999;
<a name="l00312"></a>00312    *firstNum = 9999;
<a name="l00313"></a>00313    strcpy(section,sectionName);
<a name="l00314"></a>00314    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(0);
<a name="l00315"></a>00315    <span class="keywordflow">while</span>(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF)&amp;&amp; searching)
<a name="l00316"></a>00316    {
<a name="l00317"></a>00317       buffer[0]  = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00318"></a>00318       txt[0]     = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00319"></a>00319       <a class="code" href="classbase.html#a25bbc64113a939ec258c996b3000c112">ReadLine</a>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,buffer,<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321       istrstream inputString(buffer,strlen(buffer));
<a name="l00322"></a>00322 
<a name="l00323"></a>00323       inputString &gt;&gt; txt &gt;&gt; ws;
<a name="l00324"></a>00324       <a class="code" href="classbase.html#af2a52574d11ffe404e59c3b609b9853c">EatSpaces</a>(txt);
<a name="l00325"></a>00325       <span class="keywordflow">if</span>(strstr(txt,<span class="stringliteral">&quot;[end]&quot;</span>))
<a name="l00326"></a>00326          searching=<span class="keyword">false</span>;
<a name="l00327"></a>00327       <span class="keywordflow">else</span>
<a name="l00328"></a>00328       {
<a name="l00329"></a>00329          <span class="keywordflow">if</span> ((*(txt)==<span class="charliteral">&#39;[&#39;</span>) &amp;&amp; (*(txt+strlen(txt)-1)==<span class="charliteral">&#39;]&#39;</span>) &amp;&amp; strstr(txt,section) &amp;&amp; (txt[strlen(section)+1]==<span class="charliteral">&#39;(&#39;</span>))
<a name="l00330"></a>00330          {
<a name="l00331"></a>00331             <span class="keywordtype">int</span> i = strlen(section)+2;
<a name="l00332"></a>00332             <span class="keywordflow">while</span> ((txt[i]&gt;=<span class="charliteral">&#39;0&#39;</span>) &amp;&amp; (txt[i]&lt;=<span class="charliteral">&#39;9&#39;</span>))
<a name="l00333"></a>00333                i++;
<a name="l00334"></a>00334             <span class="keywordflow">if</span> ((txt[i]==<span class="charliteral">&#39;)&#39;</span>) &amp;&amp; (txt[i+1]==<span class="charliteral">&#39;]&#39;</span>))
<a name="l00335"></a>00335             {
<a name="l00336"></a>00336                (*numOfSections)++;
<a name="l00337"></a>00337                <span class="keywordtype">char</span> * ptr_char = &amp;txt[strlen(section)+2];
<a name="l00338"></a>00338                <span class="keywordtype">int</span> nr = atoi(ptr_char);
<a name="l00339"></a>00339                <span class="keywordflow">if</span>(nr &gt; high)
<a name="l00340"></a>00340                   high = nr;
<a name="l00341"></a>00341                <span class="keywordflow">if</span>(nr &lt; *firstNum)
<a name="l00342"></a>00342                   *firstNum = nr;
<a name="l00343"></a>00343             }
<a name="l00344"></a>00344          }
<a name="l00345"></a>00345       }
<a name="l00346"></a>00346    }
<a name="l00347"></a>00347 <span class="preprocessor">#else</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span>   <span class="keywordtype">string</span> inputString;
<a name="l00349"></a>00349    <span class="keywordtype">string</span> paramString(sectionName);
<a name="l00350"></a>00350    <span class="keywordtype">bool</span> searching = <span class="keyword">true</span>;
<a name="l00351"></a>00351    *numOfSections = 0;
<a name="l00352"></a>00352    <span class="keywordtype">int</span> high=-9999;
<a name="l00353"></a>00353    *firstNum = 9999;
<a name="l00354"></a>00354    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(0);
<a name="l00355"></a>00355    <span class="keywordflow">while</span>(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF)&amp;&amp; searching)
<a name="l00356"></a>00356    {
<a name="l00357"></a>00357           getline(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,inputString,<span class="charliteral">&#39;\n&#39;</span>);
<a name="l00358"></a>00358           <span class="keywordtype">int</span> endchar = inputString.find_first_of(<span class="charliteral">&#39;]&#39;</span>);       <span class="comment">//strip off any trailing comments</span>
<a name="l00359"></a>00359           <span class="keywordflow">if</span> ((endchar&lt;0)) {
<a name="l00360"></a>00360                   endchar=0;
<a name="l00361"></a>00361           }
<a name="l00362"></a>00362           inputString.assign(inputString.c_str(),endchar+1);
<a name="l00363"></a>00363           <span class="keywordflow">if</span> (inputString.find(<span class="stringliteral">&quot;[end]&quot;</span>,0)==0)
<a name="l00364"></a>00364                  searching=<span class="keyword">false</span>;
<a name="l00365"></a>00365           <span class="keywordflow">else</span>
<a name="l00366"></a>00366           {
<a name="l00367"></a>00367                 <span class="keywordflow">if</span> ((inputString[0]==<span class="charliteral">&#39;[&#39;</span>) &amp;&amp; (inputString[inputString.length()-1]==<span class="charliteral">&#39;]&#39;</span>)
<a name="l00368"></a>00368                                 &amp;&amp; (inputString.find(paramString,0)==1) &amp;&amp; (inputString[paramString.length()+1]==<span class="charliteral">&#39;(&#39;</span>))
<a name="l00369"></a>00369                 {
<a name="l00370"></a>00370                         <span class="keywordtype">int</span> i = paramString.length()+2;
<a name="l00371"></a>00371                         <span class="keywordflow">while</span> ((inputString[i]&gt;=<span class="charliteral">&#39;0&#39;</span>) &amp;&amp; (inputString[i]&lt;=<span class="charliteral">&#39;9&#39;</span>))
<a name="l00372"></a>00372                            i++;
<a name="l00373"></a>00373                         <span class="keywordflow">if</span> ((inputString[i]==<span class="charliteral">&#39;)&#39;</span>) &amp;&amp; (inputString[i+1]==<span class="charliteral">&#39;]&#39;</span>))
<a name="l00374"></a>00374                         {
<a name="l00375"></a>00375                            (*numOfSections)++;
<a name="l00376"></a>00376                            <span class="keywordtype">string</span> numstring = inputString.substr(paramString.length()+2,i);
<a name="l00377"></a>00377                            <span class="keywordtype">int</span> nr = atoi(numstring.c_str());
<a name="l00378"></a>00378                            <span class="keywordflow">if</span>(nr &gt; high)
<a name="l00379"></a>00379                                   high = nr;
<a name="l00380"></a>00380                            <span class="keywordflow">if</span>(nr &lt; *firstNum)
<a name="l00381"></a>00381                                   *firstNum = nr;
<a name="l00382"></a>00382                         }
<a name="l00383"></a>00383                  }
<a name="l00384"></a>00384           }
<a name="l00385"></a>00385    }
<a name="l00386"></a>00386 <span class="preprocessor">#endif</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (*numOfSections==0)
<a name="l00388"></a>00388    {
<a name="l00389"></a>00389           *firstNum = 0;
<a name="l00390"></a>00390           <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00391"></a>00391           <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00392"></a>00392           {
<a name="l00393"></a>00393                  cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;No sections named [&quot;</span> &lt;&lt; sectionName &lt;&lt; <span class="stringliteral">&quot;] found&quot;</span>;
<a name="l00394"></a>00394                  <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00395"></a>00395                         cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00396"></a>00396                  <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00397"></a>00397           }
<a name="l00398"></a>00398    }
<a name="l00399"></a>00399    <span class="keywordflow">else</span>
<a name="l00400"></a>00400           <span class="keywordflow">if</span> ((*numOfSections)!=(1+high-(*firstNum)))
<a name="l00401"></a>00401           {
<a name="l00402"></a>00402                  <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00403"></a>00403                  <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00404"></a>00404                  {
<a name="l00405"></a>00405                         cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Error in numbering of section [&quot;</span> &lt;&lt; sectionName &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;
<a name="l00406"></a>00406                         <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00407"></a>00407                            cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00408"></a>00408                         <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00409"></a>00409                  }
<a name="l00410"></a>00410         }
<a name="l00411"></a>00411    <span class="keywordflow">if</span> (searching &amp;&amp; <a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00412"></a>00412    {
<a name="l00413"></a>00413           cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;No [end] marker found&quot;</span>;
<a name="l00414"></a>00414           <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00415"></a>00415                  cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00416"></a>00416           <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00417"></a>00417    }
<a name="l00418"></a>00418    <span class="keywordflow">else</span>
<a name="l00419"></a>00419            <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()==EOF)
<a name="l00420"></a>00420                         <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;clear();
<a name="l00421"></a>00421 }
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 <span class="comment">/****************************************************************************\</span>
<a name="l00424"></a>00424 <span class="comment">\****************************************************************************/</span>
<a name="l00425"></a><a class="code" href="classbase.html#af8ea646e73b042204ee13bb9e1528a44">00425</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">base::FindSection</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> sectionName)
<a name="l00426"></a>00426 {
<a name="l00427"></a>00427         <span class="keywordflow">return</span> <a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">FindSection</a>((<span class="keywordtype">char</span>*) sectionName.c_str());
<a name="l00428"></a>00428 }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 <span class="comment">/****************************************************************************\</span>
<a name="l00431"></a>00431 <span class="comment">\****************************************************************************/</span>
<a name="l00432"></a><a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">00432</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">base::FindSection</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * sectionName)
<a name="l00433"></a>00433 {
<a name="l00434"></a>00434    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(0);
<a name="l00435"></a>00435    <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;eof()!=0 || (!(*file)))
<a name="l00436"></a>00436                 <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;base::FindSection - previous attempt to read past end of file &quot;</span>,<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00439"></a>00439 <span class="preprocessor"></span>   <span class="keywordtype">char</span> buffer[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00440"></a>00440    <span class="keywordtype">char</span> txt[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00441"></a>00441    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(0);
<a name="l00442"></a>00442    <span class="keywordflow">while</span>(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF))
<a name="l00443"></a>00443    {
<a name="l00444"></a>00444       buffer[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00445"></a>00445       txt[0]    = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00446"></a>00446       <a class="code" href="classbase.html#a25bbc64113a939ec258c996b3000c112">ReadLine</a>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,buffer,<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>);
<a name="l00447"></a>00447 
<a name="l00448"></a>00448       istrstream inputString(buffer,strlen(buffer));
<a name="l00449"></a>00449 
<a name="l00450"></a>00450       inputString &gt;&gt; txt &gt;&gt; ws;
<a name="l00451"></a>00451       <a class="code" href="classbase.html#af2a52574d11ffe404e59c3b609b9853c">EatSpaces</a>(txt);
<a name="l00452"></a>00452       <span class="keywordflow">if</span>(strstr(txt,<span class="stringliteral">&quot;[end]&quot;</span>))
<a name="l00453"></a>00453                 {
<a name="l00454"></a>00454          <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a> = <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;tellg();
<a name="l00455"></a>00455          <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00456"></a>00456          <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00457"></a>00457          {
<a name="l00458"></a>00458             cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Section named &#39;&quot;</span> &lt;&lt; sectionName &lt;&lt; <span class="stringliteral">&quot;&#39; not found&quot;</span>;
<a name="l00459"></a>00459             <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00460"></a>00460                cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00461"></a>00461             <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00462"></a>00462          }
<a name="l00463"></a>00463          <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00464"></a>00464                 }
<a name="l00465"></a>00465       <span class="keywordflow">if</span> ((*(txt)==<span class="charliteral">&#39;[&#39;</span>) &amp;&amp; (*(txt+strlen(sectionName)+1)==<span class="charliteral">&#39;]&#39;</span>) &amp;&amp; strstr(txt,sectionName))
<a name="l00466"></a>00466       {
<a name="l00467"></a>00467          <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a> = <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;tellg();
<a name="l00468"></a>00468          <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00469"></a>00469       }
<a name="l00470"></a>00470    }
<a name="l00471"></a>00471 <span class="preprocessor">#else</span>
<a name="l00472"></a>00472 <span class="preprocessor"></span>   <span class="keywordtype">string</span> inputString;
<a name="l00473"></a>00473    <span class="keywordtype">string</span> paramString(sectionName);
<a name="l00474"></a>00474    <span class="keywordflow">while</span>(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a> &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF))
<a name="l00475"></a>00475    {
<a name="l00476"></a>00476           getline(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,inputString,<span class="charliteral">&#39;\n&#39;</span>);
<a name="l00477"></a>00477           <span class="keywordtype">int</span> endchar = inputString.find_first_of(<span class="charliteral">&#39;]&#39;</span>);
<a name="l00478"></a>00478           <span class="keywordflow">if</span> ((endchar&lt;0)) {
<a name="l00479"></a>00479                   endchar=0;
<a name="l00480"></a>00480           }
<a name="l00481"></a>00481           inputString.assign(inputString.c_str(),endchar+1);
<a name="l00482"></a>00482           <span class="keywordflow">if</span> (inputString.find(<span class="stringliteral">&quot;[end]&quot;</span>,0)==0)
<a name="l00483"></a>00483                 {
<a name="l00484"></a>00484                  <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a> = <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;tellg();
<a name="l00485"></a>00485                  <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00486"></a>00486                  <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00487"></a>00487                  {
<a name="l00488"></a>00488                         cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Section named &#39;&quot;</span> &lt;&lt; sectionName &lt;&lt; <span class="stringliteral">&quot;&#39; not found&quot;</span>;
<a name="l00489"></a>00489                         <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00490"></a>00490                            cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00491"></a>00491                         <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00492"></a>00492                  }
<a name="l00493"></a>00493                  <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00494"></a>00494                 }
<a name="l00495"></a>00495 <span class="comment">//              cout &lt;&lt; &quot;vec &quot; &lt;&lt; inputString &lt;&lt; endl;</span>
<a name="l00496"></a>00496       <span class="keywordflow">if</span> ((inputString[0]==<span class="charliteral">&#39;[&#39;</span>) &amp;&amp; (inputString[inputString.length()-1]==<span class="charliteral">&#39;]&#39;</span>)
<a name="l00497"></a>00497                         &amp;&amp; (inputString.find(paramString,0)==1))
<a name="l00498"></a>00498           {
<a name="l00499"></a>00499                  <a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a> = <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;tellg();
<a name="l00500"></a>00500                  <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00501"></a>00501           }
<a name="l00502"></a>00502    }
<a name="l00503"></a>00503    <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00504"></a>00504 <span class="preprocessor">#endif</span>
<a name="l00505"></a>00505 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00506"></a>00506    {
<a name="l00507"></a>00507           cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Section named &#39;&quot;</span> &lt;&lt; sectionName &lt;&lt; <span class="stringliteral">&quot;&#39; not found&quot;</span>;
<a name="l00508"></a>00508           <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00509"></a>00509          cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00510"></a>00510       <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00511"></a>00511    }
<a name="l00512"></a>00512    <span class="keywordflow">else</span>
<a name="l00513"></a>00513            <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()==EOF)
<a name="l00514"></a>00514                         <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;clear();
<a name="l00515"></a>00515 
<a name="l00516"></a>00516    <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00517"></a>00517 }
<a name="l00518"></a>00518 
<a name="l00519"></a>00519 <span class="comment">/****************************************************************************\</span>
<a name="l00520"></a>00520 <span class="comment">\****************************************************************************/</span>
<a name="l00521"></a><a class="code" href="classbase.html#afec295182d9081861379a5cd10b62ca7">00521</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">base::FindSection</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * sectionName, <span class="keywordtype">int</span> index)
<a name="l00522"></a>00522 {
<a name="l00523"></a>00523    <span class="keywordtype">char</span> s_section[81];
<a name="l00524"></a>00524         s_section[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00525"></a>00525    sprintf(s_section,<span class="stringliteral">&quot;%s(%d)&quot;</span>,sectionName,index);
<a name="l00526"></a>00526    <span class="keywordflow">return</span> <a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">FindSection</a>(s_section);
<a name="l00527"></a>00527 }
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 <span class="comment">/****************************************************************************\</span>
<a name="l00530"></a>00530 <span class="comment"> Gives the first index and the numbers of indexed parameters in the section</span>
<a name="l00531"></a>00531 <span class="comment"> in question</span>
<a name="l00532"></a>00532 <span class="comment">\****************************************************************************/</span>
<a name="l00533"></a><a class="code" href="classbase.html#ad413a7174fe9559a9b6f23f39d286c5c">00533</a> <span class="keywordtype">void</span> <a class="code" href="classbase.html#ad413a7174fe9559a9b6f23f39d286c5c">base::GetVectorInfo</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * parameter,<span class="keywordtype">int</span> * firstNum,<span class="keywordtype">int</span> * vectorSize)
<a name="l00534"></a>00534 {
<a name="l00535"></a>00535    <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;eof()!=0 || (!(*file)))
<a name="l00536"></a>00536         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;base::GetVectorInfo - previous attempt to read past end of file &quot;</span>,<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>);
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00539"></a>00539 <span class="preprocessor"></span>   <span class="keywordtype">char</span> txt[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00540"></a>00540    <span class="keywordtype">char</span> <span class="keywordtype">string</span>[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00541"></a>00541    <span class="keywordtype">char</span> buffer[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00542"></a>00542    txt[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00543"></a>00543    <span class="keywordtype">int</span> high  =-32000;
<a name="l00544"></a>00544    *firstNum = 32000;
<a name="l00545"></a>00545    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>);
<a name="l00546"></a>00546    <span class="keywordflow">while</span> ((*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>) &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF) &amp;&amp; (*(txt)!=<span class="charliteral">&#39;[&#39;</span>))
<a name="l00547"></a>00547    {
<a name="l00548"></a>00548       <a class="code" href="classbase.html#a25bbc64113a939ec258c996b3000c112">ReadLine</a>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,buffer,<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>);
<a name="l00549"></a>00549 
<a name="l00550"></a>00550       istrstream inputString(buffer,strlen(buffer));
<a name="l00551"></a>00551 
<a name="l00552"></a>00552       inputString &gt;&gt; txt &gt;&gt; <span class="keywordtype">string</span> &gt;&gt; ws;
<a name="l00553"></a>00553       <span class="keywordtype">char</span> * char_ptr = strchr(txt,<span class="charliteral">&#39;(&#39;</span>);
<a name="l00554"></a>00554       <span class="keywordflow">if</span> (char_ptr &amp;&amp; (*(txt+strlen(txt)-1)==<span class="charliteral">&#39;)&#39;</span>) &amp;&amp; (*(txt+strlen(parameter))==<span class="charliteral">&#39;(&#39;</span>) &amp;&amp; strstr(txt,parameter))
<a name="l00555"></a>00555       {
<a name="l00556"></a>00556          char_ptr++;
<a name="l00557"></a>00557          <span class="keywordtype">int</span> nr = atoi(char_ptr);
<a name="l00558"></a>00558          <span class="keywordflow">if</span> (nr&gt;high)
<a name="l00559"></a>00559             high=nr;
<a name="l00560"></a>00560          <span class="keywordflow">if</span> (nr&lt;(*firstNum))
<a name="l00561"></a>00561             *firstNum=nr;
<a name="l00562"></a>00562       }
<a name="l00563"></a>00563    }
<a name="l00564"></a>00564 <span class="preprocessor">#else</span>
<a name="l00565"></a>00565 <span class="preprocessor"></span>   <span class="keywordtype">string</span> inputString;
<a name="l00566"></a>00566    <span class="keywordtype">string</span> paramString(parameter);
<a name="l00567"></a>00567    <span class="keywordtype">string</span> vectorString;
<a name="l00568"></a>00568    <span class="keywordtype">bool</span> searching = <span class="keyword">true</span>;
<a name="l00569"></a>00569    <span class="keywordtype">int</span> high  =-32000;
<a name="l00570"></a>00570    *firstNum = 32000;
<a name="l00571"></a>00571    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>);
<a name="l00572"></a>00572    <span class="keywordflow">while</span> ((*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>) &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF) &amp;&amp;(inputString.empty()|| (inputString[0]!=<span class="charliteral">&#39;[&#39;</span>)) &amp;&amp; searching)
<a name="l00573"></a>00573    {
<a name="l00574"></a>00574           getline(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,inputString,<span class="charliteral">&#39;\n&#39;</span>);
<a name="l00575"></a>00575           <span class="keywordflow">if</span> (inputString.find(<span class="stringliteral">&quot;[end]&quot;</span>,0)&lt;<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>)
<a name="l00576"></a>00576                  searching=<span class="keyword">false</span>;
<a name="l00577"></a>00577           <span class="keywordflow">else</span>
<a name="l00578"></a>00578           {
<a name="l00579"></a>00579            <span class="keywordtype">int</span> endchar = inputString.find_first_of(<span class="charliteral">&#39;)&#39;</span>);       <span class="comment">//strip off any trailing characters</span>
<a name="l00580"></a>00580            <span class="keywordflow">if</span> ((endchar&lt;0))
<a name="l00581"></a>00581                           endchar=0;
<a name="l00582"></a>00582            vectorString.assign(inputString.c_str(),endchar+1);
<a name="l00583"></a>00583            <span class="keywordflow">if</span> ((vectorString.find(paramString,0)&lt;<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>))
<a name="l00584"></a>00584            {
<a name="l00585"></a>00585                    <span class="keywordflow">if</span> ((vectorString[paramString.length()]==<span class="charliteral">&#39;(&#39;</span>) &amp;&amp; (vectorString[vectorString.length()-1]==<span class="charliteral">&#39;)&#39;</span>))
<a name="l00586"></a>00586                         {
<a name="l00587"></a>00587                                 <span class="keywordtype">int</span> i = paramString.length()+1;
<a name="l00588"></a>00588                                 <span class="keywordflow">while</span> ((vectorString[i]&gt;=<span class="charliteral">&#39;0&#39;</span>) &amp;&amp; (vectorString[i]&lt;=<span class="charliteral">&#39;9&#39;</span>))
<a name="l00589"></a>00589                                    i++;
<a name="l00590"></a>00590                                 <span class="keywordflow">if</span> (vectorString[i]==<span class="charliteral">&#39;)&#39;</span>)
<a name="l00591"></a>00591                                 {
<a name="l00592"></a>00592                                    <span class="keywordtype">string</span> numstring = vectorString.substr(paramString.length()+1,i-1);
<a name="l00593"></a>00593                                    <span class="keywordtype">int</span> nr = atoi(numstring.c_str());
<a name="l00594"></a>00594                                    <span class="keywordflow">if</span>(nr &gt; high)
<a name="l00595"></a>00595                                           high = nr;
<a name="l00596"></a>00596                                    <span class="keywordflow">if</span>(nr &lt; *firstNum)
<a name="l00597"></a>00597                                           *firstNum = nr;
<a name="l00598"></a>00598                                 }
<a name="l00599"></a>00599                          }
<a name="l00600"></a>00600            }
<a name="l00601"></a>00601           }
<a name="l00602"></a>00602    }
<a name="l00603"></a>00603 <span class="preprocessor">#endif</span>
<a name="l00604"></a>00604 <span class="preprocessor"></span>   *vectorSize=1+high-(*firstNum);
<a name="l00605"></a>00605    <span class="keywordflow">if</span> (*vectorSize&lt;0)
<a name="l00606"></a>00606    {
<a name="l00607"></a>00607           *vectorSize=0;
<a name="l00608"></a>00608           *firstNum = 0;
<a name="l00609"></a>00609           <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00610"></a>00610           <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00611"></a>00611           {
<a name="l00612"></a>00612                  cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Missing vector parameters&quot;</span>;
<a name="l00613"></a>00613                  <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00614"></a>00614                         cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00615"></a>00615                  <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00616"></a>00616           }
<a name="l00617"></a>00617           <span class="keywordflow">else</span>
<a name="l00618"></a>00618                    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;clear();  <span class="comment">//clears end of file marker if set.</span>
<a name="l00619"></a>00619    }
<a name="l00620"></a>00620    <span class="keywordflow">else</span>
<a name="l00621"></a>00621            <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;clear();  <span class="comment">//clears end of file marker if set.</span>
<a name="l00622"></a>00622 }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624 <span class="comment">/****************************************************************************\</span>
<a name="l00625"></a>00625 <span class="comment">\****************************************************************************/</span>
<a name="l00626"></a><a class="code" href="classbase.html#aae39ec3da4311af6b93e424d29b2c66a">00626</a> <span class="keywordtype">string</span> <a class="code" href="classbase.html#aae39ec3da4311af6b93e424d29b2c66a">base::GetLongName</a>()
<a name="l00627"></a>00627 {
<a name="l00628"></a>00628    <a class="code" href="classbase.html">base</a> * p=<span class="keyword">this</span>;
<a name="l00629"></a>00629    <span class="keywordtype">char</span> s1[255];
<a name="l00630"></a>00630         s1[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00631"></a>00631    <span class="keywordtype">string</span> s;
<a name="l00632"></a>00632    <span class="keywordflow">while</span> (p)
<a name="l00633"></a>00633    {
<a name="l00634"></a>00634       <span class="keywordtype">char</span> s2[255];
<a name="l00635"></a>00635       s2[0]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00636"></a>00636       strcat(s2,p-&gt;<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>());
<a name="l00637"></a>00637       <span class="keywordflow">if</span> (s2[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00638"></a>00638       {
<a name="l00639"></a>00639          sprintf(s1,<span class="stringliteral">&quot;%s(%d)&quot;</span>,s2,p-&gt;<a class="code" href="classbase.html#a1b4ec2736a9fa992d45fdbac5f964896">GetIndex</a>());
<a name="l00640"></a>00640          s=<span class="stringliteral">&quot;/&quot;</span>+(string)s1+s;
<a name="l00641"></a>00641          p=(<a class="code" href="classbase.html">base</a>*)p-&gt;<a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>;
<a name="l00642"></a>00642       }
<a name="l00643"></a>00643       <span class="keywordflow">else</span>
<a name="l00644"></a>00644          p=NULL;
<a name="l00645"></a>00645    }
<a name="l00646"></a>00646    <span class="keywordflow">return</span> s;
<a name="l00647"></a>00647 }
<a name="l00648"></a><a class="code" href="classbase.html#adc95005de44dba3af83c3d129d2ccba7">00648</a> <span class="keywordtype">string</span> <a class="code" href="classbase.html#adc95005de44dba3af83c3d129d2ccba7">base::GetLongNameInNumbers</a>()
<a name="l00649"></a>00649 {
<a name="l00650"></a>00650    <a class="code" href="classbase.html">base</a> * p=<span class="keyword">this</span>;
<a name="l00651"></a>00651    <span class="keywordtype">char</span> s1[255];
<a name="l00652"></a>00652         s1[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00653"></a>00653    <span class="keywordtype">string</span> s;
<a name="l00654"></a>00654    <span class="keywordflow">while</span> (p)
<a name="l00655"></a>00655    {
<a name="l00656"></a>00656       <span class="keywordtype">char</span> s2[255];
<a name="l00657"></a>00657       s2[0]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00658"></a>00658       strcat(s2,p-&gt;<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>());
<a name="l00659"></a>00659       <span class="keywordflow">if</span> (s2[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00660"></a>00660       {
<a name="l00661"></a>00661          sprintf(s1,<span class="stringliteral">&quot;%s%d&quot;</span>,<span class="stringliteral">&quot;_&quot;</span>,p-&gt;<a class="code" href="classbase.html#a1b4ec2736a9fa992d45fdbac5f964896">GetIndex</a>());
<a name="l00662"></a>00662          s=(string)s1+s;
<a name="l00663"></a>00663          p=(<a class="code" href="classbase.html">base</a>*)p-&gt;<a class="code" href="classbase.html#a907869971a8ad022d6292922b1ff3bb5">Owner</a>;
<a name="l00664"></a>00664       }
<a name="l00665"></a>00665       <span class="keywordflow">else</span>
<a name="l00666"></a>00666          p=NULL;
<a name="l00667"></a>00667    }
<a name="l00668"></a>00668 
<a name="l00669"></a>00669    <span class="keywordflow">if</span>(s.size()!=0)
<a name="l00670"></a>00670    s=s.substr(1,s.size()-1);
<a name="l00671"></a>00671 
<a name="l00672"></a>00672    <span class="keywordflow">return</span> s;
<a name="l00673"></a>00673 }
<a name="l00674"></a>00674 
<a name="l00675"></a>00675 <span class="comment">/****************************************************************************\</span>
<a name="l00676"></a>00676 <span class="comment">\****************************************************************************/</span>
<a name="l00677"></a><a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">00677</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">base::GetParameter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * parameter, <span class="keywordtype">char</span> * p_string, <span class="keywordtype">int</span> index)
<a name="l00678"></a>00678 {
<a name="l00679"></a>00679 <span class="comment">/*    if (*file)</span>
<a name="l00680"></a>00680 <span class="comment">        cout &lt;&lt; &quot; file ok &quot; &lt;&lt; endl;</span>
<a name="l00681"></a>00681 <span class="comment">   if (file-&gt;peek()!=EOF)</span>
<a name="l00682"></a>00682 <span class="comment"></span>
<a name="l00683"></a>00683 <span class="comment">    cout &lt;&lt; &quot; file-&gt;peek()!=EOF ok &quot; &lt;&lt; endl;</span>
<a name="l00684"></a>00684 <span class="comment">*/</span>
<a name="l00685"></a>00685 <span class="preprocessor">#ifndef __BCplusplus__</span>
<a name="l00686"></a>00686 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;eof()!=0 || (!<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;is_open()))
<a name="l00687"></a>00687 <span class="preprocessor">#else</span>
<a name="l00688"></a>00688 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;eof()&gt;0 || (!(*file)))
<a name="l00689"></a>00689 <span class="preprocessor">#endif</span>
<a name="l00690"></a>00690 <span class="preprocessor"></span>   {
<a name="l00691"></a>00691           <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;base::GetParameter - previous attempt to read past end of file &quot;</span>,<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>);
<a name="l00692"></a>00692    }
<a name="l00693"></a>00693 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00694"></a>00694 <span class="preprocessor"></span>   <span class="keywordtype">char</span> buffer[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00695"></a>00695    <span class="keywordtype">char</span> txt[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00696"></a>00696    <span class="keywordtype">char</span> <span class="keywordtype">string</span>[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00697"></a>00697    <span class="keywordtype">char</span> parm[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00698"></a>00698    <span class="keywordflow">if</span> (index&gt;-1)
<a name="l00699"></a>00699       sprintf(parm,<span class="stringliteral">&quot;%s(%d)&quot;</span>,parameter,index);
<a name="l00700"></a>00700    <span class="keywordflow">else</span>
<a name="l00701"></a>00701       strcpy(parm,parameter);
<a name="l00702"></a>00702    txt[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00703"></a>00703    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>);
<a name="l00704"></a>00704    <span class="keywordflow">while</span> ((*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>) &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF) &amp;&amp; (*(txt)!=<span class="charliteral">&#39;[&#39;</span>))
<a name="l00705"></a>00705    {
<a name="l00706"></a>00706       buffer[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00707"></a>00707       txt[0]    = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00708"></a>00708       <span class="keywordtype">string</span>[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00709"></a>00709       <a class="code" href="classbase.html#a25bbc64113a939ec258c996b3000c112">ReadLine</a>(<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,buffer,<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>);
<a name="l00710"></a>00710 
<a name="l00711"></a>00711       istrstream inputString(buffer,strlen(buffer));
<a name="l00712"></a>00712       inputString &gt;&gt; txt &gt;&gt; <span class="keywordtype">string</span> &gt;&gt; ws;
<a name="l00713"></a>00713       <span class="keywordflow">if</span>(!strcmp(parm,txt))
<a name="l00714"></a>00714       {
<a name="l00715"></a>00715          strcpy(p_string,<span class="keywordtype">string</span>);
<a name="l00716"></a>00716          <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00717"></a>00717       }
<a name="l00718"></a>00718    }
<a name="l00719"></a>00719 <span class="preprocessor">#else</span>
<a name="l00720"></a>00720 <span class="preprocessor"></span><span class="comment">//not Borland C++ 5.02</span>
<a name="l00721"></a>00721    <span class="keywordtype">string</span> inputString(<span class="stringliteral">&quot;  &quot;</span>);
<a name="l00722"></a>00722    <span class="keywordtype">char</span> parm[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>];
<a name="l00723"></a>00723    <span class="keywordflow">if</span> (index&gt;-1)
<a name="l00724"></a>00724           sprintf(parm,<span class="stringliteral">&quot;%s(%d)&quot;</span>,parameter,index);
<a name="l00725"></a>00725    <span class="keywordflow">else</span>
<a name="l00726"></a>00726           strcpy(parm,parameter);
<a name="l00727"></a>00727    <span class="keywordtype">string</span> paramString(parm);
<a name="l00728"></a>00728    <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>);
<a name="l00729"></a>00729    <span class="keywordtype">bool</span> searching = <span class="keyword">true</span>;
<a name="l00730"></a>00730    <span class="keywordflow">while</span> ((*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>) &amp;&amp; (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()!=EOF) &amp;&amp; (inputString.empty()||(inputString[0]!=<span class="charliteral">&#39;[&#39;</span>)) &amp;&amp; searching)
<a name="l00731"></a>00731    {
<a name="l00732"></a>00732           getline(*<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>,inputString);
<a name="l00733"></a>00733           <span class="keywordflow">if</span> (inputString.find(<span class="stringliteral">&quot;[end]&quot;</span>,0)==0)
<a name="l00734"></a>00734                  searching=<span class="keyword">false</span>;
<a name="l00735"></a>00735           <span class="keywordflow">else</span>
<a name="l00736"></a>00736           {
<a name="l00737"></a>00737                   <span class="comment">//cout &lt;&lt;&quot;paramString  &quot; &lt;&lt; paramString &lt;&lt; &quot; instring &quot; &lt;&lt; inputString&lt;&lt;endl;</span>
<a name="l00738"></a>00738                   <span class="keywordflow">if</span>(inputString.find(paramString)==0)
<a name="l00739"></a>00739                   {
<a name="l00740"></a>00740                            <span class="keywordtype">string</span> string1, string2;
<a name="l00741"></a>00741                            istringstream totalSString( inputString );
<a name="l00742"></a>00742                            totalSString &gt;&gt; string1 &gt;&gt; string2;
<a name="l00743"></a>00743 <span class="comment">//      cout &lt;&lt; &quot;s1 &quot; &lt;&lt;string1 &lt;&lt; &quot; s2 &quot; &lt;&lt; string2 &lt;&lt; endl;</span>
<a name="l00744"></a>00744                            strcpy(p_string,string2.c_str());
<a name="l00745"></a>00745                          <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00746"></a>00746                   }
<a name="l00747"></a>00747           }
<a name="l00748"></a>00748    }
<a name="l00749"></a>00749 <span class="preprocessor">#endif</span>
<a name="l00750"></a>00750 <span class="preprocessor"></span><span class="comment">//   if (*file)</span>
<a name="l00751"></a>00751 <span class="comment">//   cout &lt;&lt; &quot; file ok &quot; &lt;&lt; endl;</span>
<a name="l00752"></a>00752 <span class="comment">//   if (file-&gt;peek()!=EOF)</span>
<a name="l00753"></a>00753 <span class="comment">//   cout &lt;&lt; &quot; file-&gt;peek()!=EOF ok &quot; &lt;&lt; endl;</span>
<a name="l00754"></a>00754 <span class="comment">//   if ((inputString[0]!=&#39;[&#39;))</span>
<a name="l00755"></a>00755 <span class="comment">//   cout &lt;&lt; &quot; (inputString[0]!=&#39;[&#39;) ok &quot; &lt;&lt; endl;</span>
<a name="l00756"></a>00756    <a class="code" href="classbase.html#a72b1a293d5b28c566e45317bd28cdf30">error</a> = <span class="keyword">true</span>;
<a name="l00757"></a>00757    <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a54337c5388451d2200bfc4129e10114d">critical</a>)
<a name="l00758"></a>00758    {
<a name="l00759"></a>00759                 cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Base::GetParameter - &quot;</span>;
<a name="l00760"></a>00760           <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00761"></a>00761                  cout &lt;&lt; <span class="stringliteral">&quot;Error in file &quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00762"></a>00762 <span class="preprocessor">#ifdef __BCplusplus__</span>
<a name="l00763"></a>00763 <span class="preprocessor"></span>      <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(parm, <span class="stringliteral">&quot; missing in a section &quot;</span>,<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>());
<a name="l00764"></a>00764 <span class="preprocessor">#else</span>
<a name="l00765"></a>00765 <span class="preprocessor"></span>          <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(paramString.c_str(), <span class="stringliteral">&quot; missing in a section &quot;</span>,<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>());
<a name="l00766"></a>00766 <span class="preprocessor">#endif</span>
<a name="l00767"></a>00767 <span class="preprocessor"></span>        }
<a name="l00768"></a>00768    <span class="keywordflow">else</span>
<a name="l00769"></a>00769    {
<a name="l00770"></a>00770            <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;peek()==EOF)
<a name="l00771"></a>00771                         <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;clear();
<a name="l00772"></a>00772            <a class="code" href="classbase.html#a3af52ee9891719d09b8b19b42450b6f6">file</a>-&gt;seekg(<a class="code" href="classbase.html#a18c8507e30ab4a13349958492f90572e">cur_pos</a>);
<a name="l00773"></a>00773    }
<a name="l00774"></a>00774    <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00775"></a>00775 }
<a name="l00776"></a>00776 
<a name="l00777"></a>00777 <span class="comment">/****************************************************************************\</span>
<a name="l00778"></a>00778 <span class="comment">\****************************************************************************/</span>
<a name="l00779"></a><a class="code" href="classbase.html#a2643c255e2ae69b02c1ef7a427743453">00779</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">base::GetParameter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * parameter, <span class="keywordtype">int</span> * p_value, <span class="keywordtype">int</span> index)
<a name="l00780"></a>00780 {
<a name="l00781"></a>00781    <span class="keywordtype">char</span> aCharArray[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>] = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00782"></a>00782    <span class="keywordtype">bool</span> val = <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(parameter,aCharArray,index);
<a name="l00783"></a>00783    <span class="keywordflow">if</span> (val)
<a name="l00784"></a>00784           *p_value = atoi(aCharArray);
<a name="l00785"></a>00785    <span class="keywordflow">return</span> val;
<a name="l00786"></a>00786 }
<a name="l00787"></a>00787 
<a name="l00788"></a>00788 <span class="comment">/****************************************************************************\</span>
<a name="l00789"></a>00789 <span class="comment">\****************************************************************************/</span>
<a name="l00790"></a><a class="code" href="classbase.html#ac3ea2aa929c9e33a064b9de01bf65788">00790</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">base::GetParameter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * parameter, <span class="keywordtype">double</span> * p_value, <span class="keywordtype">int</span> index)
<a name="l00791"></a>00791 {
<a name="l00792"></a>00792    <span class="keywordtype">char</span> aCharArray[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>] = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00793"></a>00793    <span class="keywordtype">bool</span> val = <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(parameter,aCharArray,index);
<a name="l00794"></a>00794    <span class="keywordflow">if</span> (val)
<a name="l00795"></a>00795           *p_value = atof(aCharArray);
<a name="l00796"></a>00796    <span class="keywordflow">return</span> val;
<a name="l00797"></a>00797 }
<a name="l00798"></a>00798 
<a name="l00799"></a>00799 <span class="comment">/****************************************************************************\</span>
<a name="l00800"></a>00800 <span class="comment">\****************************************************************************/</span>
<a name="l00801"></a><a class="code" href="classbase.html#a9cadba73da20536578f34f7e020d4c3e">00801</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">base::GetParameter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * parameter, <span class="keywordtype">bool</span> * p_value, <span class="keywordtype">int</span> index)
<a name="l00802"></a>00802 {
<a name="l00803"></a>00803    <span class="keywordtype">char</span> aCharArray[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>] = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00804"></a>00804    <span class="keywordtype">bool</span> val = <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(parameter,aCharArray,index);
<a name="l00805"></a>00805    <span class="keywordflow">if</span> (val)
<a name="l00806"></a>00806    {
<a name="l00807"></a>00807           <span class="keywordtype">int</span> i=-1;
<a name="l00808"></a>00808 
<a name="l00809"></a>00809           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;0&quot;</span>,aCharArray)==0)
<a name="l00810"></a>00810                  i=0;
<a name="l00811"></a>00811           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;FALSE&quot;</span>,aCharArray)==0)
<a name="l00812"></a>00812                  i=0;
<a name="l00813"></a>00813           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;False&quot;</span>,aCharArray)==0)
<a name="l00814"></a>00814                  i=0;
<a name="l00815"></a>00815           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;false&quot;</span>,aCharArray)==0)
<a name="l00816"></a>00816                  i=0;
<a name="l00817"></a>00817           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;F&quot;</span>,aCharArray)==0)
<a name="l00818"></a>00818                  i=0;
<a name="l00819"></a>00819           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;f&quot;</span>,aCharArray)==0)
<a name="l00820"></a>00820                  i=0;
<a name="l00821"></a>00821           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;NO&quot;</span>,aCharArray)==0)
<a name="l00822"></a>00822                  i=0;
<a name="l00823"></a>00823           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;No&quot;</span>,aCharArray)==0)
<a name="l00824"></a>00824                  i=0;
<a name="l00825"></a>00825           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;no&quot;</span>,aCharArray)==0)
<a name="l00826"></a>00826                  i=0;
<a name="l00827"></a>00827           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;N&quot;</span>,aCharArray)==0)
<a name="l00828"></a>00828                  i=0;
<a name="l00829"></a>00829           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;n&quot;</span>,aCharArray)==0)
<a name="l00830"></a>00830                  i=0;
<a name="l00831"></a>00831           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;1&quot;</span>,aCharArray)==0)
<a name="l00832"></a>00832                  i=1;
<a name="l00833"></a>00833           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;TRUE&quot;</span>,aCharArray)==0)
<a name="l00834"></a>00834                  i=1;
<a name="l00835"></a>00835           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;True&quot;</span>,aCharArray)==0)
<a name="l00836"></a>00836                  i=1;
<a name="l00837"></a>00837           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;true&quot;</span>,aCharArray)==0)
<a name="l00838"></a>00838                  i=1;
<a name="l00839"></a>00839           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;T&quot;</span>,aCharArray)==0)
<a name="l00840"></a>00840                  i=1;
<a name="l00841"></a>00841           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;t&quot;</span>,aCharArray)==0)
<a name="l00842"></a>00842                  i=1;
<a name="l00843"></a>00843           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;YES&quot;</span>,aCharArray)==0)
<a name="l00844"></a>00844                  i=1;
<a name="l00845"></a>00845           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;Yes&quot;</span>,aCharArray)==0)
<a name="l00846"></a>00846                  i=1;
<a name="l00847"></a>00847           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;yes&quot;</span>,aCharArray)==0)
<a name="l00848"></a>00848                  i=1;
<a name="l00849"></a>00849           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;Y&quot;</span>,aCharArray)==0)
<a name="l00850"></a>00850                  i=1;
<a name="l00851"></a>00851           <span class="keywordflow">if</span>(strcmp(<span class="stringliteral">&quot;y&quot;</span>,aCharArray)==0)
<a name="l00852"></a>00852                  i=1;
<a name="l00853"></a>00853 
<a name="l00854"></a>00854           <span class="keywordflow">if</span> (i&lt;0)
<a name="l00855"></a>00855           {
<a name="l00856"></a>00856                  cout &lt;&lt; endl &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Parameter not legal for bool type&quot;</span>;
<a name="l00857"></a>00857                  <span class="keywordflow">if</span> (<a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a>[0]!=<span class="charliteral">&#39;\0&#39;</span>)
<a name="l00858"></a>00858                         cout &lt;&lt; <span class="stringliteral">&quot; in file &#39;&quot;</span> &lt;&lt; <a class="code" href="classbase.html#a350d087127f1d8ba8807eb521b6336fd">fileNme</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00859"></a>00859                  <a class="code" href="classbase.html#a32986c47c1ff0d162befc4a3830734f2">Terminate</a>();
<a name="l00860"></a>00860           }
<a name="l00861"></a>00861           *p_value=(i==1);
<a name="l00862"></a>00862 
<a name="l00863"></a>00863    }
<a name="l00864"></a>00864    <span class="keywordflow">return</span> val;
<a name="l00865"></a>00865 }
<a name="l00866"></a>00866 
<a name="l00867"></a>00867 <span class="comment">/****************************************************************************\</span>
<a name="l00868"></a>00868 <span class="comment">\****************************************************************************/</span>
<a name="l00869"></a><a class="code" href="classbase.html#a02555c2565ace1d8e91dd539e38a74ca">00869</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">base::GetParameter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * parameter, <span class="keywordtype">string</span> * aString, <span class="keywordtype">int</span> index)
<a name="l00870"></a>00870 {
<a name="l00871"></a>00871    <span class="keywordtype">char</span> aCharArray[<a class="code" href="classbase.html#aedb7805f64440b0f775949a1dbcf2f0ea768bca936198aad1beec3c138c1fe987">MAX_TXT</a>] = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00872"></a>00872    <span class="keywordtype">bool</span> val = <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(parameter,aCharArray,index);
<a name="l00873"></a>00873    <span class="keywordflow">if</span> (val)
<a name="l00874"></a>00874    {
<a name="l00875"></a>00875       aString-&gt;resize(0);<span class="comment">//=&quot;&quot;; // Creates a memory leak !!!</span>
<a name="l00876"></a>00876       aString-&gt;append(aCharArray);
<a name="l00877"></a>00877    }
<a name="l00878"></a>00878    <span class="keywordflow">return</span> val;
<a name="l00879"></a>00879 }
<a name="l00880"></a>00880 
<a name="l00881"></a>00881 
<a name="l00882"></a>00882 
<a name="l00883"></a>00883 
<a name="l00884"></a>00884 
<a name="l00885"></a><a class="code" href="classbase.html#a7e46bf398988aee085433dd074edff44">00885</a> <span class="keywordtype">bool</span> <a class="code" href="classbase.html#a7e46bf398988aee085433dd074edff44">base::FileExists</a>(<span class="keywordtype">string</span> strFilename) {
<a name="l00886"></a>00886   <span class="keyword">struct </span>stat stFileInfo;
<a name="l00887"></a>00887   <span class="keywordtype">bool</span> blnReturn;
<a name="l00888"></a>00888   <span class="keywordtype">int</span> intStat;
<a name="l00889"></a>00889 
<a name="l00890"></a>00890   <span class="comment">// Attempt to get the file attributes</span>
<a name="l00891"></a>00891   intStat = stat(strFilename.c_str(),&amp;stFileInfo);
<a name="l00892"></a>00892   <span class="keywordflow">if</span>(intStat == 0) {
<a name="l00893"></a>00893     <span class="comment">// We were able to get the file attributes</span>
<a name="l00894"></a>00894     <span class="comment">// so the file obviously exists.</span>
<a name="l00895"></a>00895     blnReturn = <span class="keyword">true</span>;
<a name="l00896"></a>00896   } <span class="keywordflow">else</span> {
<a name="l00897"></a>00897     <span class="comment">// We were not able to get the file attributes.</span>
<a name="l00898"></a>00898     <span class="comment">// This may mean that we don&#39;t have permission to</span>
<a name="l00899"></a>00899     <span class="comment">// access the folder which contains this file. If you</span>
<a name="l00900"></a>00900     <span class="comment">// need to do that level of checking, lookup the</span>
<a name="l00901"></a>00901     <span class="comment">// return values of stat which will give you</span>
<a name="l00902"></a>00902     <span class="comment">// more details on why stat failed.</span>
<a name="l00903"></a>00903     blnReturn = <span class="keyword">false</span>;
<a name="l00904"></a>00904   }
<a name="l00905"></a>00905 
<a name="l00906"></a>00906   <span class="keywordflow">return</span>(blnReturn);
<a name="l00907"></a>00907 }
<a name="l00908"></a>00908 
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Aug 22 2011 10:28:53 for Fasset by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
