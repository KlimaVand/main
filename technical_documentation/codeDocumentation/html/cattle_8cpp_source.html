<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Fasset: C:/main/trunk/src/livestock/cattle.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fasset</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">C:/main/trunk/src/livestock/cattle.cpp</div>  </div>
</div>
<div class="contents">
<a href="cattle_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************\</span>
<a name="l00002"></a>00002 <span class="comment"> $URL$</span>
<a name="l00003"></a>00003 <span class="comment"> $LastChangedDate$</span>
<a name="l00004"></a>00004 <span class="comment"> $LastChangedRevision$</span>
<a name="l00005"></a>00005 <span class="comment"> $LastChangedBy$</span>
<a name="l00006"></a>00006 <span class="comment">\****************************************************************************/</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;../base/common.h&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="cattle_8h.html">cattle.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;../base/base.h&quot;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;../products/products.h&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;../data/systemData.h&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;../data/outputData.h&quot;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#ifdef _STANDALONE</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">   #include &quot;../products/message.h&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#endif</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;../products/feedResource.h&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;../base/nixcbits.h&quot;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifdef _STANDALONE</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>cattle::cattle()
<a name="l00024"></a>00024         :<a class="code" href="classanimal.html">animal</a>()
<a name="l00025"></a>00025 {
<a name="l00026"></a>00026         Initialise();
<a name="l00027"></a>00027 }
<a name="l00028"></a>00028 <span class="preprocessor">#endif</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00035"></a><a class="code" href="classcattle.html#adf9d179e58cd2a02b9b5e0f8a1668bb9">00035</a> cattle::cattle(<span class="keyword">const</span> <span class="keywordtype">char</span> *aName,<span class="keyword">const</span> <span class="keywordtype">int</span> aIndex,<span class="keyword">const</span> <a class="code" href="classbase.html">base</a> * aOwner):
<a name="l00036"></a>00036      <a class="code" href="classanimal.html">animal</a>(aName,aIndex,aOwner)
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038         <a class="code" href="classcattle.html#a7a2111adbacdb6ec477005ac5779077b">Initialise</a>();
<a name="l00039"></a>00039 }
<a name="l00040"></a>00040 
<a name="l00045"></a><a class="code" href="classcattle.html#a1588b725bd7fe6e3fe250007ebfc0785">00045</a> cattle::cattle(<span class="keyword">const</span> <a class="code" href="classcattle.html">cattle</a>&amp; anAnimal)
<a name="l00046"></a>00046    : <a class="code" href="classanimal.html">animal</a>(anAnimal)
<a name="l00047"></a>00047 {
<a name="l00048"></a>00048    <a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>                          = anAnimal.<a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>;
<a name="l00049"></a>00049    <a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a>                                              = anAnimal.<a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a>;
<a name="l00050"></a>00050    <a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a>                                                  = anAnimal.<a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a>;
<a name="l00051"></a>00051    <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>                                                  = anAnimal.<a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>;
<a name="l00052"></a>00052    <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>                                               = anAnimal.<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>;
<a name="l00053"></a>00053 <span class="comment">//   uterusProtein                              = anAnimal.uterusProtein;</span>
<a name="l00054"></a>00054    <a class="code" href="classcattle.html#abeb37ebde95fcf8f746364102f91c94c">code</a>                                                         = anAnimal.<a class="code" href="classcattle.html#abeb37ebde95fcf8f746364102f91c94c">code</a>;
<a name="l00055"></a>00055    <a class="code" href="classcattle.html#ae28249dd21e1e0f2978c5cad7bf3f53f">isFemale</a>                                     = anAnimal.<a class="code" href="classcattle.html#ae28249dd21e1e0f2978c5cad7bf3f53f">isFemale</a>;
<a name="l00056"></a>00056    <a class="code" href="classcattle.html#a737451b41bd16074e295e3c395d17745">isFoetus</a>                                     = anAnimal.<a class="code" href="classcattle.html#a737451b41bd16074e295e3c395d17745">isFoetus</a>;
<a name="l00057"></a>00057    <a class="code" href="classcattle.html#a40126fbf9c2ac40d3578b473e1ba37d1">isSuckling</a>                                   = anAnimal.<a class="code" href="classcattle.html#a40126fbf9c2ac40d3578b473e1ba37d1">isSuckling</a>;
<a name="l00058"></a>00058    <a class="code" href="classcattle.html#a9fe83aba5038189445bbcf6e96fd4977">isYoung</a>                                              = anAnimal.<a class="code" href="classcattle.html#a9fe83aba5038189445bbcf6e96fd4977">isYoung</a>;
<a name="l00059"></a>00059         <a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>                            = NULL;<span class="comment">//must be set explicitly later</span>
<a name="l00060"></a>00060    <a class="code" href="classcattle.html#a80820ab424613acc46294b15335b7507">feedUseList</a>                                  = NULL;
<a name="l00061"></a>00061    <a class="code" href="classcattle.html#a6a51852f30326c7e77ac430c89033d0f">daysFromParturition</a>          = anAnimal.<a class="code" href="classcattle.html#a6a51852f30326c7e77ac430c89033d0f">daysFromParturition</a>;
<a name="l00062"></a>00062    <a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>           = anAnimal.<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>;
<a name="l00063"></a>00063    <a class="code" href="classcattle.html#ae67ed13b4012cda6f63a11098520ff07">lactationNumber</a>                      = anAnimal.<a class="code" href="classcattle.html#ae67ed13b4012cda6f63a11098520ff07">lactationNumber</a>;
<a name="l00064"></a>00064    <a class="code" href="classcattle.html#a7cf86b18583399992fc6d0ed510a6b95">feedingGroup</a>                         = 0;  <span class="comment">//set explicitly</span>
<a name="l00065"></a>00065    <a class="code" href="classcattle.html#a9d5b8f99a41523eb8c0792e49492e350">lactating</a>                                    = anAnimal.<a class="code" href="classcattle.html#a9d5b8f99a41523eb8c0792e49492e350">lactating</a>;
<a name="l00066"></a>00066    <a class="code" href="classcattle.html#a457bb28e06317045be5fd9ebbac78d7e">pregnant</a>                                     = anAnimal.<a class="code" href="classcattle.html#a457bb28e06317045be5fd9ebbac78d7e">pregnant</a>;
<a name="l00067"></a>00067    <a class="code" href="classmilk.html">milk</a>                                                 = NULL;
<a name="l00068"></a>00068    <a class="code" href="classanimal.html#a9e4809e28ae703c997e135bf28469163">variableCosts</a>                                = anAnimal.<a class="code" href="classanimal.html#a9e4809e28ae703c997e135bf28469163">variableCosts</a>;
<a name="l00069"></a>00069    <a class="code" href="classcattle.html#acf6345c41d725963b2bb91a744039050">mother</a>                                               = NULL;
<a name="l00070"></a>00070    <a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>                                                         = NULL;
<a name="l00071"></a>00071    <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>                                               = NULL;
<a name="l00072"></a>00072 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>        <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>                                       = NULL;
<a name="l00074"></a>00074 <span class="preprocessor">#endif</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>   <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a>                                    = 0.0;
<a name="l00076"></a>00076    <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>                                  = NULL;
<a name="l00077"></a>00077    <a class="code" href="classmilk.html">milk</a>                                                 = NULL;
<a name="l00078"></a>00078    <a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>                                  = anAnimal.<a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>;
<a name="l00079"></a>00079    <a class="code" href="classcattle.html#a59856200751c49a71847fa421bfada3c">gestationPeriod</a>                      = anAnimal.<a class="code" href="classcattle.html#a59856200751c49a71847fa421bfada3c">gestationPeriod</a>;
<a name="l00080"></a>00080    <a class="code" href="classcattle.html#a1d6da32047ee60f0cbdacee9519f16e3">milkProteinConc</a>         = anAnimal.<a class="code" href="classcattle.html#a1d6da32047ee60f0cbdacee9519f16e3">milkProteinConc</a>;
<a name="l00081"></a>00081    <a class="code" href="classcattle.html#aa5a4f55d7d0575a6e828c212c84bc909">milkFatConc</a>                                  = anAnimal.<a class="code" href="classcattle.html#aa5a4f55d7d0575a6e828c212c84bc909">milkFatConc</a>;
<a name="l00082"></a>00082    <a class="code" href="classcattle.html#a426bdf1c322f7dc4c5447fae45c259eb">lactoseConc</a>                                  = anAnimal.<a class="code" href="classcattle.html#a426bdf1c322f7dc4c5447fae45c259eb">lactoseConc</a>;
<a name="l00083"></a>00083    <a class="code" href="classcattle.html#a0579aa4830ea3b218896c017e61fc904">ME_intake</a>                                    = 0.0;
<a name="l00084"></a>00084    <a class="code" href="classcattle.html#aabaeb5143d3c02eebe3ef676319fb5a0">FE_intake</a>                                    = 0.0;
<a name="l00085"></a>00085    <a class="code" href="classcattle.html#a63d4959fc2ec85e12dce81130e1829dc">FEDemand</a>                                             = 0.0;
<a name="l00086"></a>00086    <a class="code" href="classcattle.html#a363b662f01ef25b47283840fd205c9e9">lastMilkYield</a>                                = anAnimal.<a class="code" href="classcattle.html#a363b662f01ef25b47283840fd205c9e9">lastMilkYield</a>;
<a name="l00087"></a>00087    <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>                                               = <span class="keyword">new</span> <a class="code" href="classfeed_item.html">feedItem</a>();
<a name="l00088"></a>00088    <a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a>                                  = NULL;
<a name="l00089"></a>00089 }
<a name="l00090"></a>00090 
<a name="l00094"></a><a class="code" href="classcattle.html#ab9a244e71daafd2dec8ecaf18aa0c081">00094</a> <a class="code" href="classcattle.html#ab9a244e71daafd2dec8ecaf18aa0c081">cattle::~cattle</a>()
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096    <span class="keyword">delete</span> <a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>;
<a name="l00097"></a>00097         <span class="keyword">delete</span> <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>;
<a name="l00098"></a>00098    <span class="keyword">delete</span> <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>;
<a name="l00099"></a>00099    <span class="keyword">delete</span> <a class="code" href="classcattle.html#a80820ab424613acc46294b15335b7507">feedUseList</a>;
<a name="l00100"></a>00100    <span class="keyword">delete</span> <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>;
<a name="l00101"></a>00101    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a>)
<a name="l00102"></a>00102    {
<a name="l00103"></a>00103 <span class="comment">/*if(Index==36)</span>
<a name="l00104"></a>00104 <span class="comment">cout &lt;&lt; &quot;&quot;;*/</span>
<a name="l00105"></a>00105 <span class="comment">//      detailsFile-&gt;close();</span>
<a name="l00106"></a>00106 <span class="comment">//      cout &lt;&lt; &quot;closing &quot; &lt;&lt; Index &lt;&lt; endl;</span>
<a name="l00107"></a>00107         <span class="keyword">delete</span> <a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a>;
<a name="l00108"></a>00108       <a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> = NULL;
<a name="l00109"></a>00109    }
<a name="l00110"></a>00110 }
<a name="l00111"></a>00111 
<a name="l00115"></a><a class="code" href="classcattle.html#a7a2111adbacdb6ec477005ac5779077b">00115</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a7a2111adbacdb6ec477005ac5779077b">cattle::Initialise</a>()
<a name="l00116"></a>00116 {
<a name="l00117"></a>00117    <a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>                                          = 0.0;
<a name="l00118"></a>00118    <a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a>                                                              = 0.0;
<a name="l00119"></a>00119    <a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a>                                                                  = 0;
<a name="l00120"></a>00120    <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>                                                                  = 0.0;
<a name="l00121"></a>00121    <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>                                                               = 0.0;
<a name="l00122"></a>00122    <a class="code" href="classcattle.html#abeb37ebde95fcf8f746364102f91c94c">code</a>                                                                 = 0;
<a name="l00123"></a>00123    <a class="code" href="classcattle.html#ae28249dd21e1e0f2978c5cad7bf3f53f">isFemale</a>                                                     = <span class="keyword">false</span>;
<a name="l00124"></a>00124    <a class="code" href="classcattle.html#a737451b41bd16074e295e3c395d17745">isFoetus</a>                                                     = <span class="keyword">false</span>;
<a name="l00125"></a>00125    <a class="code" href="classcattle.html#a40126fbf9c2ac40d3578b473e1ba37d1">isSuckling</a>                                                   = <span class="keyword">false</span>;
<a name="l00126"></a>00126    <a class="code" href="classcattle.html#a9fe83aba5038189445bbcf6e96fd4977">isYoung</a>                                                              = <span class="keyword">false</span>;
<a name="l00127"></a>00127         <a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>                                            = NULL;<span class="comment">//must be set explicitly through</span>
<a name="l00128"></a>00128    <a class="code" href="classcattle.html#a80820ab424613acc46294b15335b7507">feedUseList</a>                                          = <span class="keyword">new</span> <a class="code" href="classclone_list.html">cloneList &lt;product&gt;</a>;
<a name="l00129"></a>00129    <a class="code" href="classcattle.html#a6a51852f30326c7e77ac430c89033d0f">daysFromParturition</a>                          = 0;
<a name="l00130"></a>00130    <a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>                           = 0;
<a name="l00131"></a>00131    <a class="code" href="classcattle.html#ae67ed13b4012cda6f63a11098520ff07">lactationNumber</a>                                      = 0;
<a name="l00132"></a>00132    <a class="code" href="classcattle.html#a7cf86b18583399992fc6d0ed510a6b95">feedingGroup</a>                                         = 0;
<a name="l00133"></a>00133    <a class="code" href="classcattle.html#a9d5b8f99a41523eb8c0792e49492e350">lactating</a>                                                    = <span class="keyword">false</span>;
<a name="l00134"></a>00134    <a class="code" href="classcattle.html#a457bb28e06317045be5fd9ebbac78d7e">pregnant</a>                                                             = <span class="keyword">false</span>;
<a name="l00135"></a>00135    <a class="code" href="classcattle.html#acf6345c41d725963b2bb91a744039050">mother</a>                                                               = NULL;
<a name="l00136"></a>00136    <a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>                                                                         = NULL;
<a name="l00137"></a>00137    <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>                                                               = NULL;
<a name="l00138"></a>00138 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span>   <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>                                                    = NULL;
<a name="l00140"></a>00140 <span class="preprocessor">#endif</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span>   <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a>                                                    = 0.0;
<a name="l00142"></a>00142    <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>                                                  = NULL;
<a name="l00143"></a>00143    <a class="code" href="classmilk.html">milk</a>                                                                 = NULL;
<a name="l00144"></a>00144    <a class="code" href="classcattle.html#a363b662f01ef25b47283840fd205c9e9">lastMilkYield</a>                                                = 0.0;
<a name="l00145"></a>00145    <a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>                                                  = 0.0;
<a name="l00146"></a>00146    <a class="code" href="classcattle.html#a59856200751c49a71847fa421bfada3c">gestationPeriod</a>                                      = 281;
<a name="l00147"></a>00147    <a class="code" href="classcattle.html#a1d6da32047ee60f0cbdacee9519f16e3">milkProteinConc</a>                                      = 0.0;
<a name="l00148"></a>00148    <a class="code" href="classcattle.html#aa5a4f55d7d0575a6e828c212c84bc909">milkFatConc</a>                                                  = 0.0;
<a name="l00149"></a>00149    <a class="code" href="classcattle.html#a426bdf1c322f7dc4c5447fae45c259eb">lactoseConc</a>                                                  = 0.0;
<a name="l00150"></a>00150    <a class="code" href="classcattle.html#a0579aa4830ea3b218896c017e61fc904">ME_intake</a>                                                    = 0.0;
<a name="l00151"></a>00151    <a class="code" href="classcattle.html#aabaeb5143d3c02eebe3ef676319fb5a0">FE_intake</a>                                                    = 0.0;
<a name="l00152"></a>00152    <a class="code" href="classcattle.html#a63d4959fc2ec85e12dce81130e1829dc">FEDemand</a>                                                             = 0.0;
<a name="l00153"></a>00153    <a class="code" href="classcattle.html#ad77f647e607efacadcec9aa8ef82de2c">aminoAcidSupply</a>                                      = 0.0;
<a name="l00154"></a>00154    <a class="code" href="classcattle.html#abd8875c6b64433fd2dbd14593c8bd961">aminoAcidDemand</a>                                      = 0.0;
<a name="l00155"></a>00155         <a class="code" href="classcattle.html#a3abd49d3221dd7a38255a4bffd7770b3">dungN</a>                                                                   = 0.0;
<a name="l00156"></a>00156    <a class="code" href="classcattle.html#a6743facaa4de4b92350ef52cc2e6b8ed">urineN</a>                                                               = 0.0;
<a name="l00157"></a>00157    <a class="code" href="classcattle.html#ad2e1f9f817dc243c4ca19136e0871b77">rumenNsurplus</a>                                                = 0.0;
<a name="l00158"></a>00158    <a class="code" href="classcattle.html#a8d36e025177454054e92c45378279615">Grazed_DM</a>                                                    = 0.0;
<a name="l00159"></a>00159    <a class="code" href="classcattle.html#a6c58edc9e56731094dd5a097f058c2ea">Grazed_FE</a>                                                    = 0.0;
<a name="l00160"></a>00160    <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>                                                               = <span class="keyword">new</span> <a class="code" href="classfeed_item.html">feedItem</a>();
<a name="l00161"></a>00161 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="output_data_8h.html#aadc9d3b76fa69bf28c5ab340dd810e20">theOutputData</a>-&gt;<a class="code" href="classoutput_data.html#ae50b979972f6c57c3881edd6a7dd96b4">DetailsData</a>.<a class="code" href="classoutput_details.html#a9fd56e7141ada659cbc818a008d3eeeb">getCowDetails</a>()==<span class="keyword">true</span>)
<a name="l00163"></a>00163                 <a class="code" href="classcattle.html#a3d331307509c0f26ab8ae6b2f890f889">CreateDetailFile</a>(<a class="code" href="classbase.html#afa59aaa1a0201700640234eb13a03aae">Index</a>);
<a name="l00164"></a>00164    <span class="keywordflow">else</span>
<a name="l00165"></a>00165         <a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> = NULL;
<a name="l00166"></a>00166 <span class="preprocessor">#endif</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span>   <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#ada0ca75f0dd9d8a6d0dfd5fcbd666653">SetNames</a>(<span class="stringliteral">&quot;cattle&quot;</span>,<span class="stringliteral">&quot;N&quot;</span>);
<a name="l00168"></a>00168    <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#ada0ca75f0dd9d8a6d0dfd5fcbd666653">SetNames</a>(<span class="stringliteral">&quot;cattle&quot;</span>,<span class="stringliteral">&quot;C&quot;</span>);
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00175"></a><a class="code" href="classcattle.html#a13ca8c9803fc7d414933e0cacb5e398c">00175</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a13ca8c9803fc7d414933e0cacb5e398c">cattle::ReadParameters</a>(fstream * afile)
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177    <a class="code" href="classbase.html#a3cb378050dc4ced8420f41dcd7292239">Setfile</a>(afile);
<a name="l00178"></a>00178    <a class="code" href="classbase.html#a80052a7eeb8bce90247aedd358cc1cf6">SetCritical</a>();
<a name="l00179"></a>00179         <a class="code" href="classbase.html#a95e051f408e6a94d4f78fbacbace1363">Setcur_pos</a>(0);
<a name="l00180"></a>00180    <span class="keywordtype">string</span> namestr;
<a name="l00181"></a>00181         namestr=(string) <span class="stringliteral">&quot;Animal&quot;</span>;
<a name="l00182"></a>00182    <a class="code" href="classbase.html#a88e41ff60ffb7e707312a09f20457e73">FindSection</a>(namestr.c_str(),<a class="code" href="classcattle.html#abeb37ebde95fcf8f746364102f91c94c">code</a>);  <span class="comment">// find the correct place in the input file</span>
<a name="l00183"></a>00183    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;MBW&quot;</span>,&amp;<a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>);
<a name="l00184"></a>00184    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;amountFluid&quot;</span>,&amp;<a class="code" href="classanimal.html#a980913ef37036f30fdd2a743f190ad7c">amountFluid</a> );
<a name="l00185"></a>00185    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;amountSolid&quot;</span>,&amp;<a class="code" href="classanimal.html#ae574d91108a470dd180278e787c95cb0">amountSolid</a> );
<a name="l00186"></a>00186    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;Alias&quot;</span>,&amp;<a class="code" href="classanimal.html#acb5645f84affade5748c1cd8cf28a6f1">Alias</a>);
<a name="l00187"></a>00187    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;milkprotein&quot;</span>,&amp;<a class="code" href="classcattle.html#a1d6da32047ee60f0cbdacee9519f16e3">milkProteinConc</a>);
<a name="l00188"></a>00188    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;milkfat&quot;</span>,&amp;<a class="code" href="classcattle.html#aa5a4f55d7d0575a6e828c212c84bc909">milkFatConc</a>);
<a name="l00189"></a>00189    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;lactose&quot;</span>,&amp;<a class="code" href="classcattle.html#a426bdf1c322f7dc4c5447fae45c259eb">lactoseConc</a>);
<a name="l00190"></a>00190    <a class="code" href="classbase.html#aff0b96b92d78c345fd60335cece99d08">GetParameter</a>(<span class="stringliteral">&quot;acceptanceCoefficient&quot;</span>,&amp;<a class="code" href="classcattle.html#a54c41c4168fa7a8bf51dbab9c79c9b61">acceptanceCoefficient</a>);
<a name="l00191"></a>00191    <a class="code" href="classbase.html#a3cb378050dc4ced8420f41dcd7292239">Setfile</a>(NULL); <span class="comment">// BMP added Aug. 2007 !!!</span>
<a name="l00192"></a>00192 }
<a name="l00193"></a>00193 
<a name="l00197"></a><a class="code" href="classcattle.html#a418e7ccadab4a1b2b71d5687c4f22373">00197</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a418e7ccadab4a1b2b71d5687c4f22373">cattle::DailyUpdate</a>()
<a name="l00198"></a>00198 {
<a name="l00199"></a>00199         <span class="keywordflow">if</span> ((<a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>-&gt;<a class="code" href="classclone_list.html#a8f54a13007e33d1a1f08f77a0bd70927">NumOfNodes</a>()==0)&amp;&amp;(<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>()==0))
<a name="l00200"></a>00200         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: DailyUpdate - no feed plan or fields&quot;</span>);
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         <a class="code" href="classcattle.html#a583babf76f49e8ab7dab411195bcda2e">checkBalances</a>(<span class="keyword">false</span>);
<a name="l00203"></a>00203   <a class="code" href="classcattle.html#a418e7ccadab4a1b2b71d5687c4f22373">animal::DailyUpdate</a>();
<a name="l00204"></a>00204   <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>)
<a name="l00205"></a>00205         <span class="keyword">delete</span> <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>;
<a name="l00206"></a>00206   <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a> = <span class="keyword">new</span> <a class="code" href="classfeed__resource.html">feed_resource</a>();
<a name="l00207"></a>00207 
<a name="l00208"></a>00208   <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>)          <span class="comment">//should really only be used for standalone (but is used generally until we can manage milking parlours)</span>
<a name="l00209"></a>00209   {
<a name="l00210"></a>00210         <span class="keyword">delete</span> <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>;
<a name="l00211"></a>00211       <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>=NULL;
<a name="l00212"></a>00212   }
<a name="l00213"></a>00213    <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a> = <span class="keyword">new</span> <a class="code" href="classfeed_item.html">feedItem</a>();
<a name="l00214"></a>00214 <span class="preprocessor">#ifdef _STANDALONE</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span>   <a class="code" href="classcattle.html#a0f0686111d6eb6ba5dec8b3b92cecb76">CheckBirth</a>();
<a name="l00216"></a>00216 <span class="preprocessor">#endif</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span>   <a class="code" href="classcattle.html#a268ab4ca694f20f0207125ef11992933">intake</a>();
<a name="l00218"></a>00218    <a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a>++;
<a name="l00219"></a>00219    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a9d5b8f99a41523eb8c0792e49492e350">lactating</a>)
<a name="l00220"></a>00220         <a class="code" href="classcattle.html#a6a51852f30326c7e77ac430c89033d0f">daysFromParturition</a>++;
<a name="l00221"></a>00221         <a class="code" href="classcattle.html#a6baa384415f687dbe7fa420cb46bb62e">Production</a>();
<a name="l00222"></a>00222 
<a name="l00223"></a>00223    <span class="keywordtype">double</span> manureN = <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> + <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a>;
<a name="l00224"></a>00224    <span class="keywordtype">double</span> manureC = <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a899102ff3dccbfdc70b79e701c135514">GetC_content</a>() + <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a899102ff3dccbfdc70b79e701c135514">GetC_content</a>();
<a name="l00225"></a>00225    <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#a47bfa9740186f2be18a10dd3423a5eea">AddOutput</a>(manureN *1000.0);
<a name="l00226"></a>00226 <span class="comment">// from here on until the end of the function, manure is scaled for animal number</span>
<a name="l00227"></a>00227    manureN*=<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>;
<a name="l00228"></a>00228    manureC*=<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>;
<a name="l00229"></a>00229    *<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a> * <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>;
<a name="l00230"></a>00230    *<a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a> * <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>;
<a name="l00231"></a>00231    <span class="keywordtype">double</span> amountManure = <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() + <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>();
<a name="l00232"></a>00232 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00233"></a>00233 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a9fe83aba5038189445bbcf6e96fd4977">isYoung</a>)
<a name="l00234"></a>00234    {
<a name="l00235"></a>00235            <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;33.41 N in young cattle manure&quot;</span>,<span class="stringliteral">&quot;kg N&quot;</span>,manureN*1000.0);
<a name="l00236"></a>00236            <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;43.41 4 in young cattle manure&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,manureC*1000.0);
<a name="l00237"></a>00237            <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13cadcfea84ffbf1780d7036c4014e4d5be6">economicIndicator</a>,<span class="stringliteral">&quot;19.63 Manure produced by young cattle&quot;</span>,<span class="stringliteral">&quot;t&quot;</span>,amountManure);
<a name="l00238"></a>00238    }
<a name="l00239"></a>00239    <span class="keywordflow">else</span>
<a name="l00240"></a>00240    {
<a name="l00241"></a>00241         <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;33.42 N in dairy cattle manure&quot;</span>,<span class="stringliteral">&quot;kg N&quot;</span>,manureN*1000.0);
<a name="l00242"></a>00242         <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;43.42 C in dairy cattle manure&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,manureC*1000.0);
<a name="l00243"></a>00243            <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13cadcfea84ffbf1780d7036c4014e4d5be6">economicIndicator</a>,<span class="stringliteral">&quot;19.64 Manure produced by dairy cattle&quot;</span>,<span class="stringliteral">&quot;t&quot;</span>,amountManure);
<a name="l00244"></a>00244    }
<a name="l00245"></a>00245    <span class="comment">// excrete manure to the right location</span>
<a name="l00246"></a>00246    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>&gt;0.0)
<a name="l00247"></a>00247    {
<a name="l00248"></a>00248         <a class="code" href="classanimal_section.html" title="Section of an animal house that contains livestock.">animalSection</a> * theSection = <a class="code" href="classanimal.html#a99d20eac6b06d781c35cf3f6fa9f5139">GetStableSection</a>();
<a name="l00249"></a>00249       <span class="keywordflow">if</span> (theSection)
<a name="l00250"></a>00250       {
<a name="l00251"></a>00251                         <a class="code" href="classmanure.html">manure</a> *faecesToHouse = <span class="keyword">new</span> <a class="code" href="classmanure.html">manure</a>(*<a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>);
<a name="l00252"></a>00252                         <a class="code" href="classmanure.html">manure</a> *urineToHouse = <span class="keyword">new</span> <a class="code" href="classmanure.html">manure</a>(*<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>);
<a name="l00253"></a>00253          <span class="comment">//weight amount excreted in animal housing according to the proportion of the day they are housed</span>
<a name="l00254"></a>00254          faecesToHouse-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(<a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*(<a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>/24.0));
<a name="l00255"></a>00255          urineToHouse-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*(<a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>/24.0));
<a name="l00256"></a>00256          <span class="keywordtype">double</span> manureNToHousing = (urineToHouse-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*urineToHouse-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> +
<a name="l00257"></a>00257                   faecesToHouse-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*faecesToHouse-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a>);
<a name="l00258"></a>00258          <span class="keywordtype">double</span> manureCToHousing = (urineToHouse-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*urineToHouse-&gt;<a class="code" href="classlive_matter.html#a899102ff3dccbfdc70b79e701c135514">GetC_content</a>() +
<a name="l00259"></a>00259                   faecesToHouse-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*faecesToHouse-&gt;<a class="code" href="classlive_matter.html#a899102ff3dccbfdc70b79e701c135514">GetC_content</a>());
<a name="l00260"></a>00260          <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;33.81 Cattle manure N to animal housing&quot;</span>,<span class="stringliteral">&quot;kg N&quot;</span>,manureNToHousing*1000.0);
<a name="l00261"></a>00261          <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;43.81 Cattle manure C to animal housing&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,manureCToHousing*1000.0);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263          theSection-&gt;<a class="code" href="classanimal_section.html#a37bd72c4e77137793f050339384e9486" title="Received manure from somewhere else.">RcvManure</a>(urineToHouse,faecesToHouse);          <span class="comment">// manure to stable</span>
<a name="l00264"></a>00264          <span class="comment">// fudge - should calculate heat from diet + latent heat loss</span>
<a name="l00265"></a>00265 <span class="comment">//         GetStableSection()-&gt;AddanimalHeatOp(Number*weight*heatProduction/SRW);</span>
<a name="l00266"></a>00266          <span class="keyword">delete</span> faecesToHouse;
<a name="l00267"></a>00267          <span class="keyword">delete</span> urineToHouse;
<a name="l00268"></a>00268                         <span class="keywordtype">double</span> heatOp=Number*<a class="code" href="classcattle.html#a96d6a13910c586fc522ae1dbb11730d8">GetSensibleHeatProduction</a>();
<a name="l00269"></a>00269          theSection-&gt;<a class="code" href="classanimal_section.html#a725e52db97d2127b775e259cc21e954e" title="Add amount to animal heat production.">AddanimalHeatOp</a>(heatOp);
<a name="l00270"></a>00270 
<a name="l00271"></a>00271       }
<a name="l00272"></a>00272       <span class="keywordflow">else</span> <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: no housing designated for receiving manure from &quot;</span>,<a class="code" href="classanimal.html#a1fd13dcc0f1482d3f288d2265d1ed1ec">GetAlias</a>().c_str());
<a name="l00273"></a>00273    }
<a name="l00274"></a>00274    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>&lt;24.0)
<a name="l00275"></a>00275    {
<a name="l00276"></a>00276       <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>()&gt;0)
<a name="l00277"></a>00277       {
<a name="l00278"></a>00278          <span class="keywordtype">double</span> DMFromFields=0.0;     <span class="comment">//used to partition manureNToField across the grazed fields in proportion to DM offtake</span>
<a name="l00279"></a>00279                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>(); i++)
<a name="l00280"></a>00280                 {
<a name="l00281"></a>00281            DMFromFields+=<a class="code" href="classcattle.html#aaf87eabecd0e08dcee9d848227c83cd3">fieldOfftakeList</a>[i];
<a name="l00282"></a>00282          }
<a name="l00283"></a>00283          <span class="keywordflow">if</span> (DMFromFields==0.0)  <span class="comment">//this should rarely happen - but it does BMP !!!!</span>
<a name="l00284"></a>00284          {
<a name="l00285"></a>00285                 <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#aacaa1466698a349689502491cf089f72">Warning</a>(<span class="stringliteral">&quot;Cattle: No DM offtake from fields - dung and urine evenly distributed between grazed fields&quot;</span>);
<a name="l00286"></a>00286             DMFromFields=10.0;
<a name="l00287"></a>00287             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>(); i++)
<a name="l00288"></a>00288             {
<a name="l00289"></a>00289               <a class="code" href="classcattle.html#aaf87eabecd0e08dcee9d848227c83cd3">fieldOfftakeList</a>[i]=DMFromFields/<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>();
<a name="l00290"></a>00290             }
<a name="l00291"></a>00291          }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>(); i++)
<a name="l00294"></a>00294                 {
<a name="l00295"></a>00295             <a class="code" href="classmanure.html">manure</a> *faecesToField = <span class="keyword">new</span> <a class="code" href="classmanure.html">manure</a>(*<a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>);
<a name="l00296"></a>00296             <a class="code" href="classmanure.html">manure</a> *urineToField = <span class="keyword">new</span> <a class="code" href="classmanure.html">manure</a>(*<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>);
<a name="l00297"></a>00297                 <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#aaf87eabecd0e08dcee9d848227c83cd3">fieldOfftakeList</a>[i]&gt;0.0)
<a name="l00298"></a>00298             {
<a name="l00299"></a>00299                <span class="keywordtype">double</span> proportionThisField = <a class="code" href="classcattle.html#aaf87eabecd0e08dcee9d848227c83cd3">fieldOfftakeList</a>[i]/DMFromFields;
<a name="l00300"></a>00300                <span class="keywordtype">double</span> timeDistribution=(24.0 - <a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>)/24.0;
<a name="l00301"></a>00301                          faecesToField-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(<a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*timeDistribution*proportionThisField);
<a name="l00302"></a>00302                    urineToField-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*timeDistribution*proportionThisField);
<a name="l00303"></a>00303 
<a name="l00304"></a>00304                          <span class="keywordtype">double</span> manureNToPasture = (urineToField-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*urineToField-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> +
<a name="l00305"></a>00305                   faecesToField-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*faecesToField-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a>);
<a name="l00306"></a>00306                          <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;33.80 Cattle manure N to pasture&quot;</span>,<span class="stringliteral">&quot;kg N&quot;</span>,manureNToPasture*1000.0);
<a name="l00307"></a>00307                <a class="code" href="classfield.html">field</a> *aField = <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#a5735a6e54a2eed841bdf1fdb52aed03f" title="Return the address of the node with a given logical number in the list.">ElementAtNumber</a>(i);
<a name="l00308"></a>00308                <span class="keywordtype">double</span> area_urine = 0.68 * 12.0 * timeDistribution * <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>;   <span class="comment">//Lantinga 1987</span>
<a name="l00309"></a>00309                <span class="keywordtype">double</span> area_dung = 0.05 * 12.0 * timeDistribution * <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>;    <span class="comment">//McGechan</span>
<a name="l00310"></a>00310                <span class="comment">/* ------------- The three lines below lump urine and faeces together !!!!!!!! -----------</span>
<a name="l00311"></a>00311 <span class="comment">               *urineToField+ *faecesToField;</span>
<a name="l00312"></a>00312 <span class="comment">               faecesToField-&gt;Setamount(0.0);</span>
<a name="l00313"></a>00313 <span class="comment">               area_dung=0;</span>
<a name="l00314"></a>00314 <span class="comment">                --------------------------------------------------------------------------------------- */</span>
<a name="l00315"></a>00315                aField-&gt;<a class="code" href="classfield.html#a5b62b48e403a06c3728b246265b7fb57">DepositManure</a>(urineToField, faecesToField, area_urine, area_dung);   <span class="comment">//from McGehan and Topp 2004</span>
<a name="l00316"></a>00316             }
<a name="l00317"></a>00317             <span class="keyword">delete</span> faecesToField;
<a name="l00318"></a>00318             <span class="keyword">delete</span> urineToField;
<a name="l00319"></a>00319          }
<a name="l00320"></a>00320            }
<a name="l00321"></a>00321            <span class="keywordflow">else</span>  <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: no fields grazed so nowhere for manure to go!!&quot;</span>);
<a name="l00322"></a>00322    }
<a name="l00323"></a>00323 <span class="preprocessor">#endif</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span>
<a name="l00325"></a>00325   <span class="keywordflow">if</span> (<a class="code" href="output_data_8h.html#aadc9d3b76fa69bf28c5ab340dd810e20">theOutputData</a>-&gt;<a class="code" href="classoutput_data.html#ae50b979972f6c57c3881edd6a7dd96b4">DetailsData</a>.<a class="code" href="classoutput_details.html#a9fd56e7141ada659cbc818a008d3eeeb">getCowDetails</a>()==<span class="keyword">true</span>)
<a name="l00326"></a>00326                 <a class="code" href="classcattle.html#a66a96c0c6ec89204ed6b11b8393f8014">WriteCowOutput</a>(<span class="keyword">false</span>);
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="comment">//   cout &lt;&lt; GetName() &lt;&lt; &amp;Nbudget &lt;&lt; endl;</span>
<a name="l00329"></a>00329   <a class="code" href="classcattle.html#a583babf76f49e8ab7dab411195bcda2e">checkBalances</a>(<span class="keyword">false</span>);
<a name="l00330"></a>00330   <span class="keywordflow">if</span> ((!<a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>)&amp;&amp;(<a class="code" href="classmilk.html">milk</a>))          <span class="comment">//should really only be used for standalone (but is used generally until we can manage milking parlours)</span>
<a name="l00331"></a>00331   {
<a name="l00332"></a>00332         <span class="keyword">delete</span> <a class="code" href="classcattle.html#a5242362db2f5a4411f19ec2163eabc4e">milk</a>;
<a name="l00333"></a>00333       <a class="code" href="classmilk.html">milk</a>=NULL;
<a name="l00334"></a>00334   }
<a name="l00335"></a>00335 }
<a name="l00339"></a><a class="code" href="classcattle.html#abbfdc707ceb6778a0e335acdcf8e24d4">00339</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#abbfdc707ceb6778a0e335acdcf8e24d4">cattle::ReceivePlan</a>(<a class="code" href="classclone_list.html">cloneList &lt;product&gt;</a>* afeedPlanList)  <span class="comment">//redundant</span>
<a name="l00340"></a>00340 {
<a name="l00341"></a>00341   <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>) <span class="keyword">delete</span> <a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>;
<a name="l00342"></a>00342   <a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a> = afeedPlanList-&gt;<a class="code" href="classclone_list.html#ac5e49d0132613e2bc1b5d148e83b22c7">clone</a>();
<a name="l00343"></a>00343 }
<a name="l00344"></a>00344 
<a name="l00349"></a><a class="code" href="classcattle.html#a6baa384415f687dbe7fa420cb46bb62e">00349</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a6baa384415f687dbe7fa420cb46bb62e">cattle::Production</a>()
<a name="l00350"></a>00350 {
<a name="l00351"></a>00351         <span class="keywordtype">string</span> name = this-&gt;<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>();
<a name="l00352"></a>00352    <span class="keywordtype">double</span> deficit=0.0;
<a name="l00353"></a>00353 
<a name="l00354"></a>00354    <a class="code" href="classcattle.html#af6ad25c3e883a183b1470d6b7e534406">Partition</a>();
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 <span class="comment">//   Nbudget.AddOutput((urineN + dungN)/1000.0);</span>
<a name="l00357"></a>00357 
<a name="l00358"></a>00358    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a6743facaa4de4b92350ef52cc2e6b8ed">urineN</a>&gt;=0)
<a name="l00359"></a>00359    {
<a name="l00360"></a>00360       <span class="keywordtype">double</span> amountfeed                 = <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * 1000.0;   <span class="comment">//in kg</span>
<a name="l00361"></a>00361       <span class="keywordtype">double</span> amountFluidFW = <a class="code" href="classcattle.html#add87f09e9b8ef0ed3ca7dcf9e4ac7172">GetUrineVolume</a>();    <span class="comment">//new urine volume model</span>
<a name="l00362"></a>00362       <span class="keywordtype">double</span> totalAmountPrDay= amountFluidFW/1000.0; <span class="comment">//convert to tonnes</span>
<a name="l00363"></a>00363 
<a name="l00364"></a>00364         <span class="comment">// sort out urine first</span>
<a name="l00365"></a>00365       <span class="keywordtype">double</span> urineNConc = <a class="code" href="classcattle.html#a6743facaa4de4b92350ef52cc2e6b8ed">urineN</a>/(totalAmountPrDay * 1000000.0);  <span class="comment">//concentration, t per t</span>
<a name="l00366"></a>00366       <span class="keywordtype">double</span> urineCconc = urineNConc*60.0/28.0;   <span class="comment">//assumes all N in urine is urea (ratio of C to N in urea (2*(NH2) + CO))</span>
<a name="l00367"></a>00367 
<a name="l00368"></a>00368       <span class="comment">//WHAT HAPPENS TO THE C WHEN IT IS DEPOSITED ???</span>
<a name="l00369"></a>00369       <span class="keywordtype">double</span> urineCarbon = urineCconc * amountFluidFW;
<a name="l00370"></a>00370       <span class="keywordtype">double</span> urineDMconc = urineCconc/0.4;
<a name="l00371"></a>00371       <span class="keywordtype">double</span> urineDM = 0.0; <span class="comment">//1000.0 * totalAmountPrDay * urineDMconc;</span>
<a name="l00372"></a>00372       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a0219cde65dc26376f3371a0138199ba8">Setname</a>(<span class="stringliteral">&quot;CATTLE-URINE&quot;</span>);
<a name="l00373"></a>00373       <a class="code" href="_new_main_8cpp.html#af1019990138497f1f18cc7294737d140">theProducts</a>-&gt;<a class="code" href="classproducts.html#a8bd239aabc0a167741c02882e305d65d">GiveProductInformation</a>(<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>);
<a name="l00374"></a>00374       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(totalAmountPrDay);
<a name="l00375"></a>00375       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#adbb45be219dd863cfad2b5e97cde1508">SetorgN_content</a>(0.0);
<a name="l00376"></a>00376       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ae1c5d6b2f85882a85817e26a8fc9391f">SetNH4_content</a>(urineNConc);
<a name="l00377"></a>00377       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#aee8cb3a1d73625321b1b73dd285dffb4">SetDryMatter</a>(urineDMconc);
<a name="l00378"></a>00378       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ac85d49a99a56f9f3e47822ebaf54cbaf">SetC_content</a>(urineCconc);
<a name="l00379"></a>00379       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a59f7f829cb7bfe4f8de9d39921d2d63e">SetNO3_content</a>(0.0);
<a name="l00380"></a>00380       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a52255cdb24978db665475b5f3a4424a8">SetP_content</a>((amountfeed *(<a class="code" href="classanimal.html#a824070a2c5f811b0613e3767b298c0f1">currentfeed</a>-&gt;<a class="code" href="classlive_matter.html#aed9acd0807e62d97e092ea6c2aaa966f">GetP_content</a>())*(<a class="code" href="classanimal.html#a824070a2c5f811b0613e3767b298c0f1">currentfeed</a>-&gt;<a class="code" href="classfeed_item.html#a7cdd42f66932edf929ceb2cc722a9388">GetP_digest</a>())-<a class="code" href="classanimal.html#a000f5ea905fb5f547ac001e76c6a94f0">P_growth</a>)/totalAmountPrDay);
<a name="l00381"></a>00381       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ab290a7267fcd85285cfa72a7eec34adc">SetK_content</a>(0.0);                      <span class="comment">// rettes senere</span>
<a name="l00382"></a>00382       <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classmanure.html#a6d4583c874bb537909cfe6c110a59041">SetpH</a>(8.0);
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="comment">//solid manure</span>
<a name="l00386"></a>00386       <span class="keywordtype">double</span> dungNConc;
<a name="l00387"></a>00387       <span class="keywordtype">double</span> ash = amountfeed * (<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>() - <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#a7b016854c1d3b40807216315b031263a">Getorganic</a>());
<a name="l00388"></a>00388       <span class="keywordtype">double</span> indigestibleOM = amountfeed * (1-<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a94fa874b2d66b1443fc2ebc26d4529aa">GetOMD</a>()) * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#a7b016854c1d3b40807216315b031263a">Getorganic</a>() - urineDM;
<a name="l00389"></a>00389                 <span class="keywordtype">double</span> faecalCarbon = indigestibleOM * 0.4;
<a name="l00390"></a>00390       <span class="keywordtype">double</span> solidDM = indigestibleOM + ash;
<a name="l00391"></a>00391       <span class="keywordtype">double</span> amountSolidFW = solidDM/0.15;   <span class="comment">//assumes 15% DM content of faeces</span>
<a name="l00392"></a>00392       <span class="keywordtype">double</span> faecalCconc = faecalCarbon/amountSolidFW;
<a name="l00393"></a>00393       totalAmountPrDay = amountSolidFW/1000.0; <span class="comment">//convert to tonnes</span>
<a name="l00394"></a>00394       dungNConc = <a class="code" href="classcattle.html#a3abd49d3221dd7a38255a4bffd7770b3">dungN</a>/(totalAmountPrDay * 1000000.0) ;
<a name="l00395"></a>00395       <span class="keywordflow">if</span> (totalAmountPrDay&lt;0.0)
<a name="l00396"></a>00396         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot; &quot;</span>);
<a name="l00397"></a>00397       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a0219cde65dc26376f3371a0138199ba8">Setname</a>(<span class="stringliteral">&quot;CATTLE-FAECES&quot;</span>);
<a name="l00398"></a>00398       <a class="code" href="_new_main_8cpp.html#af1019990138497f1f18cc7294737d140">theProducts</a>-&gt;<a class="code" href="classproducts.html#a8bd239aabc0a167741c02882e305d65d">GiveProductInformation</a>(<a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>);          <span class="comment">// sets the default values for solid-manure</span>
<a name="l00399"></a>00399       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(totalAmountPrDay);
<a name="l00400"></a>00400       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#adbb45be219dd863cfad2b5e97cde1508">SetorgN_content</a>(dungNConc);
<a name="l00401"></a>00401       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ae1c5d6b2f85882a85817e26a8fc9391f">SetNH4_content</a>(0.0); <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a59f7f829cb7bfe4f8de9d39921d2d63e">SetNO3_content</a>(0.0);
<a name="l00402"></a>00402       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#aee8cb3a1d73625321b1b73dd285dffb4">SetDryMatter</a>(0.15);
<a name="l00403"></a>00403       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ac85d49a99a56f9f3e47822ebaf54cbaf">SetC_content</a>(faecalCconc);
<a name="l00404"></a>00404       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a52255cdb24978db665475b5f3a4424a8">SetP_content</a>(amountfeed*(<a class="code" href="classanimal.html#a824070a2c5f811b0613e3767b298c0f1">currentfeed</a>-&gt;<a class="code" href="classlive_matter.html#aed9acd0807e62d97e092ea6c2aaa966f">GetP_content</a>())*(1.0-<a class="code" href="classanimal.html#a824070a2c5f811b0613e3767b298c0f1">currentfeed</a>-&gt;<a class="code" href="classfeed_item.html#a7cdd42f66932edf929ceb2cc722a9388">GetP_digest</a>())/totalAmountPrDay);
<a name="l00405"></a>00405       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#ab290a7267fcd85285cfa72a7eec34adc">SetK_content</a>((amountfeed*(<a class="code" href="classanimal.html#a824070a2c5f811b0613e3767b298c0f1">currentfeed</a>-&gt;<a class="code" href="classlive_matter.html#accdc895062d3dbebf1277b565b1b72d3">GetK_content</a>())-<a class="code" href="classanimal.html#a7a2c048b6e72a0b5d0f1a7f2191526f3">K_growth</a>)/totalAmountPrDay);
<a name="l00406"></a>00406       <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classmanure.html#a6d4583c874bb537909cfe6c110a59041">SetpH</a>(7.6);
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 <span class="comment">//  C and heat dynamics</span>
<a name="l00409"></a>00409       <span class="keywordtype">double</span> methane = <a class="code" href="classcattle.html#a8053c5118595709cf95a6e54b2560024">GetMethaneProduction</a>();  <span class="comment">//g per day</span>
<a name="l00410"></a>00410       <span class="keywordtype">double</span> methaneCarbon = methane * 12/(16 * 1000.0); <span class="comment">//kg</span>
<a name="l00411"></a>00411       <span class="keywordtype">double</span> milkCarbon = 0.0;
<a name="l00412"></a>00412       <span class="keywordflow">if</span> (<a class="code" href="classmilk.html">milk</a>)
<a name="l00413"></a>00413          milkCarbon = <a class="code" href="classmilk.html">milk</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * 1000.0 * <a class="code" href="classmilk.html">milk</a>-&gt;GetC_content();
<a name="l00414"></a>00414                 <a class="code" href="classcattle.html#a684a6bc701b487ecb37887a81c72f52e">CalcHeatProduction</a>(<a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>);
<a name="l00415"></a>00415       <span class="keywordtype">double</span> carbonIntake = <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * 1000.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a6b6490080cfae6efeaaeb7d4f92f9d05">GetC</a>();
<a name="l00416"></a>00416       <span class="keywordtype">double</span> CRetained = <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classlive_matter.html#a899102ff3dccbfdc70b79e701c135514">GetC_content</a>();
<a name="l00417"></a>00417       <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>)
<a name="l00418"></a>00418                                  CRetained+=<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a31cf342857dea26371d0da77baec3b99">Getgrowth</a>()-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a31cf342857dea26371d0da77baec3b99">Getgrowth</a>()-&gt;<a class="code" href="classlive_matter.html#a899102ff3dccbfdc70b79e701c135514">GetC_content</a>();
<a name="l00419"></a>00419                 <span class="keywordtype">double</span> CO2_C = carbonIntake - (CRetained + methaneCarbon + urineCarbon + faecalCarbon + milkCarbon);
<a name="l00420"></a>00420 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00421"></a>00421 <span class="preprocessor"></span>      <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.01 C input into cattle&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * carbonIntake);
<a name="l00422"></a>00422       <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.04 C in cattle faeces&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * faecalCarbon);
<a name="l00423"></a>00423       <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.03 C in cattle urine&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * urineCarbon);
<a name="l00424"></a>00424       <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.07 C retained in cattle body&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * CRetained);
<a name="l00425"></a>00425       <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.05 C in cattle CO2 production&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * CO2_C);
<a name="l00426"></a>00426       <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.02 C in cattle CH4 production&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * methaneCarbon);
<a name="l00427"></a>00427       <a class="code" href="_indicator_output_8h.html#a699f3cd60e9f14693c64869fd86745c5">theOutput</a>-&gt;<a class="code" href="class_indicator_output.html#a50aa53ae58d243f6eef65a360e1196c8">AddIndicator</a>(<a class="code" href="typer_8h.html#af7c21877c7448b813184ececcc1af13ca7361be8d586650bac7f248153f94f6f2">environmentalIndicator</a>,<span class="stringliteral">&quot;41.06 C in milk production&quot;</span>,<span class="stringliteral">&quot;kg C&quot;</span>,<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * milkCarbon);
<a name="l00428"></a>00428 <span class="preprocessor">#endif</span>
<a name="l00429"></a>00429 <span class="preprocessor"></span>      <span class="keywordtype">double</span> carbonOutput = CO2_C + methaneCarbon + urineCarbon + faecalCarbon + milkCarbon;
<a name="l00430"></a>00430       <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#a47bfa9740186f2be18a10dd3423a5eea">AddOutput</a>(carbonOutput);
<a name="l00431"></a>00431       }
<a name="l00432"></a>00432     <span class="keywordflow">else</span> {
<a name="l00433"></a>00433                 <span class="keywordtype">string</span> animalName =this-&gt;<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>();
<a name="l00434"></a>00434 <span class="comment">//         theMessage-&gt;Warning(animalName+&quot; required additional feed&quot;);</span>
<a name="l00435"></a>00435          <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle::Production - urine gone negative&quot;</span>);
<a name="l00436"></a>00436          deficit=<a class="code" href="classcattle.html#a6743facaa4de4b92350ef52cc2e6b8ed">urineN</a>;
<a name="l00437"></a>00437          }
<a name="l00438"></a>00438 
<a name="l00439"></a>00439  <span class="keywordflow">return</span> deficit;
<a name="l00440"></a>00440 }
<a name="l00441"></a>00441 
<a name="l00445"></a><a class="code" href="classcattle.html#abbfa3e590fcb00ff39222a765f8cf608">00445</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#abbfa3e590fcb00ff39222a765f8cf608">cattle::ManureProduction</a>( fstream* fileStream)
<a name="l00446"></a>00446 {
<a name="l00447"></a>00447         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;Function in cattle not implemented&quot;</span>);
<a name="l00448"></a>00448   *fileStream &lt;&lt; <span class="stringliteral">&quot;.LIQM    0.0\n&quot;</span>; <span class="comment">//dummy line which is never reached - stops a warning</span>
<a name="l00449"></a>00449 }
<a name="l00450"></a>00450 
<a name="l00454"></a><a class="code" href="classcattle.html#a88117c15ba8d100cc4489d7f8f125b76">00454</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a88117c15ba8d100cc4489d7f8f125b76">cattle::ProteinDigestion</a>( <span class="keywordtype">double</span> *availableN)
<a name="l00455"></a>00455 {
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 <span class="comment">//   double AAfromMilk = 0.0;</span>
<a name="l00458"></a>00458    *availableN = 0.0;
<a name="l00459"></a>00459 
<a name="l00460"></a>00460    <a class="code" href="classcattle.html#ad2e1f9f817dc243c4ca19136e0871b77">rumenNsurplus</a> = 1000.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a1092222b8a89b1da63be44700369ba98">Getpbv</a>() * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();
<a name="l00461"></a>00461 <span class="comment">/*</span>
<a name="l00462"></a>00462 <span class="comment">   This code calculates protein digestibility using the DK system. It has been replaced by the a system that assumes that all N</span>
<a name="l00463"></a>00463 <span class="comment">   not ending in dung is available to support protein demand (which is not true, since the balance of amino acids is also a factor).</span>
<a name="l00464"></a>00464 <span class="comment">   However, the new system, based on an empirical equation to calculate faecal N, works better.</span>
<a name="l00465"></a>00465 <span class="comment">        *availableN =1000.0 * currentDiet-&gt;Getaat() * currentDiet-&gt;GetAmount()/N_to_protein();</span>
<a name="l00466"></a>00466 <span class="comment">   double trueProteinDigestibility = currentDiet-&gt;GetPropRDP() + (1 -currentDiet-&gt;GetPropRDP()) * currentDiet-&gt;GetpropUDPdigestible();</span>
<a name="l00467"></a>00467 <span class="comment">   double undigestedFeedProtein =  (1-trueProteinDigestibility) * currentDiet-&gt;GetAmount() * 1E6 * currentDiet-&gt;GetProteinContent();</span>
<a name="l00468"></a>00468 <span class="comment">   double undigestedMicrobialProtein =   currentDiet-&gt;GetAmount() * 1000.0 * currentDiet-&gt;GetCHOContent()</span>
<a name="l00469"></a>00469 <span class="comment">                                                                                                                        * currentDiet-&gt;GetpropDigestCHO() * 179.0 * (1.0 - 0.78);</span>
<a name="l00470"></a>00470 <span class="comment">   double endogenousFaecalProtein = 12.5 * DM_intake;</span>
<a name="l00471"></a>00471 <span class="comment">   dungN = (undigestedFeedProtein + undigestedMicrobialProtein + endogenousFaecalProtein)/N_to_protein(); */</span>
<a name="l00472"></a>00472 
<a name="l00473"></a>00473    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a40126fbf9c2ac40d3578b473e1ba37d1">isSuckling</a>)    <span class="comment">//note that milk bypasses the rumen</span>
<a name="l00474"></a>00474    {
<a name="l00475"></a>00475 <span class="comment">/*      double milkProtein = milk-&gt;GetAmount() * 1000000.0 * milk-&gt;GetProteinContent();</span>
<a name="l00476"></a>00476 <span class="comment">      AAfromMilk = milk-&gt;GetAmount()* 1000000.0 * milk-&gt;GetProteinContent() *</span>
<a name="l00477"></a>00477 <span class="comment">                       milk-&gt;GetpropAAinUDP() * milk-&gt;GetpropUDPdigestible();</span>
<a name="l00478"></a>00478 <span class="comment">           *availableN = AAfromMilk/N_to_protein();*/</span>
<a name="l00479"></a>00479                 *<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a> = *<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a> + *<a class="code" href="classcattle.html#a5242362db2f5a4411f19ec2163eabc4e">milk</a>;
<a name="l00480"></a>00480       <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(milk-&gt;GetAmount() * 1000.0 * milk-&gt;GetAllN().n);
<a name="l00481"></a>00481       <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(milk-&gt;GetAmount() * 1000.0 * milk-&gt;GetC());
<a name="l00482"></a>00482       <span class="keyword">delete</span> <a class="code" href="classcattle.html#a5242362db2f5a4411f19ec2163eabc4e">milk</a>;
<a name="l00483"></a>00483       milk = NULL;
<a name="l00484"></a>00484    }
<a name="l00485"></a>00485 
<a name="l00486"></a>00486    <span class="keywordtype">double</span> N_intake = 1E6 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ac4b95fdff5ad224d9aa1541589c64663">GetorgN_content</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>();
<a name="l00487"></a>00487    <a class="code" href="classcattle.html#a3abd49d3221dd7a38255a4bffd7770b3">dungN</a> = 0.04 * N_intake + (<a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a> * <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a> * 1.8/6.25) + <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a> * 20.0/6.25;     <span class="comment">//note that DM_intake is updated to take account of milk intake in the intake function</span>
<a name="l00488"></a>00488         *availableN = N_intake - <a class="code" href="classcattle.html#a3abd49d3221dd7a38255a4bffd7770b3">dungN</a>;
<a name="l00489"></a>00489    <a class="code" href="classcattle.html#ad77f647e607efacadcec9aa8ef82de2c">aminoAcidSupply</a> = *availableN * <a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();   <span class="comment">//register amino acid supply</span>
<a name="l00490"></a>00490    <span class="keywordflow">if</span> (dungN&lt;0.0)
<a name="l00491"></a>00491         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle::ProteinDigestion - dung N gone negative&quot;</span>);
<a name="l00492"></a>00492 }
<a name="l00493"></a>00493 
<a name="l00499"></a><a class="code" href="classcattle.html#a2a2b2e95eed78862af8cc6dda71c7d03">00499</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a2a2b2e95eed78862af8cc6dda71c7d03">cattle::CalcMaintenanceN</a>()
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501  <span class="keywordtype">double</span> ret_val = 3.02 * pow(<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>,0.75)/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();
<a name="l00502"></a>00502 
<a name="l00503"></a>00503  <span class="keywordflow">return</span> ret_val;
<a name="l00504"></a>00504 }
<a name="l00505"></a>00505 
<a name="l00509"></a><a class="code" href="classcattle.html#a30cf96265a9fbfec7859bd1e62730088">00509</a> <a class="code" href="classfeed__resource.html">feed_resource</a> * <a class="code" href="classcattle.html#a30cf96265a9fbfec7859bd1e62730088">cattle::GetFeedItem</a>(<a class="code" href="classproduct.html">product</a> * menuPtr)
<a name="l00510"></a>00510 {
<a name="l00511"></a>00511    <a class="code" href="classproduct.html">product</a> * aStoredProduct =<a class="code" href="_new_main_8cpp.html#af1019990138497f1f18cc7294737d140">theProducts</a>-&gt;<a class="code" href="classproducts.html#ac13e4e332916d2e8b6d0f6bf04cadc4d">GetCopyStoredFeedProduct</a>(menuPtr);   <span class="comment">//returns a copy of the product if it is found in storage</span>
<a name="l00512"></a>00512    <span class="comment">//next line will get a feed of a particular type, rather than a particular feed. Obsolete?</span>
<a name="l00513"></a>00513    <span class="comment">//product * aStoredProduct = ((feed_resource *) theProducts-&gt;GetProductType(menuPtr));</span>
<a name="l00514"></a>00514 
<a name="l00515"></a>00515    <a class="code" href="classfeed__resource.html">feed_resource</a> * aFeed_resource = <span class="keyword">new</span> <a class="code" href="classfeed__resource.html">feed_resource</a>(*(<a class="code" href="classfeed_item.html">feedItem</a>*) menuPtr);
<a name="l00516"></a>00516    <span class="keywordflow">if</span> (aStoredProduct)
<a name="l00517"></a>00517    {
<a name="l00518"></a>00518       <span class="keywordflow">if</span> (aStoredProduct)
<a name="l00519"></a>00519       {
<a name="l00520"></a>00520          <span class="comment">//this section updates the default variables with the actual characteristics of the feed stored</span>
<a name="l00521"></a>00521          <span class="comment">//if there is not enough in store, the remainder will later be imported (with the same quality as that in storage!)</span>
<a name="l00522"></a>00522          aFeed_resource-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(0.0);
<a name="l00523"></a>00523          *aFeed_resource+ *aStoredProduct;
<a name="l00524"></a>00524          aFeed_resource-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(menuPtr-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>());
<a name="l00525"></a>00525       }
<a name="l00526"></a>00526       <span class="keyword">delete</span> aStoredProduct;
<a name="l00527"></a>00527    }
<a name="l00528"></a>00528    aFeed_resource-&gt;<a class="code" href="classfeed__resource.html#a94266da551778acc0c29f514e161ac50">SetIsSupplement</a>(<span class="keyword">true</span>);
<a name="l00529"></a>00529    <span class="keywordflow">return</span> aFeed_resource;
<a name="l00530"></a>00530 }
<a name="l00531"></a>00531 
<a name="l00532"></a>00532 <span class="comment">//NJH March 2003</span>
<a name="l00536"></a><a class="code" href="classcattle.html#ab606ffff933142bc469c151721050d2d">00536</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classcattle.html#a7a2111adbacdb6ec477005ac5779077b">cattle::Initialise</a>(<span class="keywordtype">int</span> aCode, <span class="keywordtype">int</span> anAge, <span class="keywordtype">double</span> LU, <span class="keywordtype">double</span> numPrCohort, <span class="keywordtype">bool</span> isAYoung)
<a name="l00537"></a>00537 {
<a name="l00538"></a>00538    <a class="code" href="classcattle.html#a4c094d809f6ea65502d06a96dc42e08d">SetisYoung</a>(isAYoung);
<a name="l00539"></a>00539    <a class="code" href="classanimal.html#abe026348f883bc244e1d8e473b173c81">SetNumber</a>(numPrCohort);
<a name="l00540"></a>00540    <a class="code" href="classanimal.html#ab02fcc3a55c323f5bde1e50515e049ff">SetDE</a>(LU);
<a name="l00541"></a>00541    <a class="code" href="classcattle.html#abeb37ebde95fcf8f746364102f91c94c">code</a> = aCode;
<a name="l00542"></a>00542    <a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a> = anAge;
<a name="l00543"></a>00543    <a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a> = 0.0;
<a name="l00544"></a>00544    <a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a> = 0.0;
<a name="l00545"></a>00545    <span class="keywordflow">if</span> (!<a class="code" href="classcattle.html#a737451b41bd16074e295e3c395d17745">isFoetus</a>)
<a name="l00546"></a>00546    {
<a name="l00548"></a>00548       <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a> = <a class="code" href="classcattle.html#a5b3d8710accc9b14ac6881ed758fe4ae">Get_norm_weight</a>();
<a name="l00549"></a>00549       <a class="code" href="classcattle.html#add40ebb87f1c1ca992ea47bbf4cc26eb" title="calculate the amount of fat and protein in our an animal of a particular empty body weight...">GetStandardComposition</a>(<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>,&amp;<a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a>,&amp;<a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>);
<a name="l00550"></a>00550       <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(<a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>());
<a name="l00551"></a>00551       <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(<a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>());
<a name="l00552"></a>00552    }
<a name="l00553"></a>00553    <span class="keywordflow">else</span>   <span class="comment">//is a foetus</span>
<a name="l00554"></a>00554    {
<a name="l00555"></a>00555        <a class="code" href="classcattle.html#a914dbca3cb615490a696d4a63aaab37a">SetdaysFromConception</a>((<span class="keywordtype">int</span>) <a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a>);
<a name="l00556"></a>00556        <a class="code" href="classcattle.html#aa064459116b771e6a3c9b2dac34ce0bf">Setage</a>(0);
<a name="l00557"></a>00557        <a class="code" href="classcattle.html#ab41b2206b12b2f5bd16dd817960315bd">InitialiseFoetus</a>();
<a name="l00558"></a>00558        <a class="code" href="classcattle.html#a70296e4b60d7540a8be2be7beca964ca">SetisSuckling</a>(<span class="keyword">false</span>);
<a name="l00559"></a>00559        <a class="code" href="classcattle.html#a4c094d809f6ea65502d06a96dc42e08d">SetisYoung</a>(<span class="keyword">true</span>);
<a name="l00560"></a>00560        <a class="code" href="classcattle.html#ac2b8f179d21f9b6e11f803e68a43f607">SetdaysFromParturition</a>(0);
<a name="l00561"></a>00561        <a class="code" href="classcattle.html#aeed22677fe5975db88ee1788b5d27670">SetlactationNumber</a>(0);
<a name="l00562"></a>00562        <a class="code" href="classcattle.html#aec62f7edf9677935504583181c378966">Setlactating</a>(<span class="keyword">false</span>);
<a name="l00563"></a>00563        <a class="code" href="classcattle.html#ad253d77a1a672d0ebc2b4e7093aad228">Setpregnant</a>(<span class="keyword">false</span>);
<a name="l00564"></a>00564        <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(<a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>());
<a name="l00565"></a>00565        <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(<a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>());
<a name="l00566"></a>00566        <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>=NULL;
<a name="l00567"></a>00567    }
<a name="l00568"></a>00568 
<a name="l00569"></a>00569    <span class="keywordflow">if</span> ((<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>&gt;0) &amp;&amp; (!<a class="code" href="classcattle.html#aa137de147bb60b1f2cc1558167a0220d">GetisFoetus</a>()))
<a name="l00570"></a>00570    {
<a name="l00571"></a>00571       <a class="code" href="classcattle.html#a42b73eb64c061427ced81f8524ea76a9">Createfoetus</a>();
<a name="l00572"></a>00572       <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a9040755a92eba6fcd6a71b907e06ef95">SetisFoetus</a>(<span class="keyword">true</span>);
<a name="l00573"></a>00573       <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#ad80178c5a27de60a10542207d47ec2c2">Setmother</a>((<a class="code" href="classcattle.html">cattle</a>*) <span class="keyword">this</span>);
<a name="l00574"></a>00574       <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#ab606ffff933142bc469c151721050d2d">Initialise</a>(<a class="code" href="classcattle.html#abeb37ebde95fcf8f746364102f91c94c">code</a>, <span class="keywordtype">int</span>(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>), <a class="code" href="classanimal.html#a04fb217c6513ffc36ddd036d2c38ee98">LivestockUnits</a>, <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>, <span class="keyword">true</span>);
<a name="l00575"></a>00575       <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>((<span class="comment">/*uterusProtein + */</span><a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#ae19ec8afe91d65ef9b60eecc36acbffd">GetbodyProtein</a>())/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>());
<a name="l00576"></a>00576       <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(<a class="code" href="classanimal.html#a03c49c3eccec4f4eec1275bd707595ab">GetCarbon</a>(<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a0ef7cd4d80ad3abf2d95f792d7d84ea4">GetbodyFat</a>(),(<span class="comment">/*uterusProtein+ */</span><a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#ae19ec8afe91d65ef9b60eecc36acbffd">GetbodyProtein</a>())));
<a name="l00577"></a>00577       <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>+=<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a32f9c2c17b16e891f8e208754865d734">Getweight</a>();
<a name="l00578"></a>00578       <a class="code" href="classcattle.html#a457bb28e06317045be5fd9ebbac78d7e">pregnant</a> = <span class="keyword">true</span>;
<a name="l00579"></a>00579    }
<a name="l00580"></a>00580 
<a name="l00581"></a>00581 <span class="comment">//              bodyProtein = 12.0 * log(1.0 + exp(-6.0*(weight/MBW)+2.4)) + 72*(weight/MBW) - 29.84;</span>
<a name="l00582"></a>00582 <span class="comment">//      should be set to a real value - if I could work out what it should be! Does not matter unless animals need to remobilise energy</span>
<a name="l00583"></a>00583    <a class="code" href="classanimal.html#a9e4809e28ae703c997e135bf28469163">variableCosts</a> = 0.0;
<a name="l00584"></a>00584    <a class="code" href="classcattle.html#acf6345c41d725963b2bb91a744039050">mother</a>               = NULL;
<a name="l00585"></a>00585 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00586"></a>00586 <span class="preprocessor"></span>   <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>    =NULL;
<a name="l00587"></a>00587 <span class="preprocessor">#endif</span>
<a name="l00588"></a>00588 <span class="preprocessor"></span><span class="comment">//      Nbudget.AddInput(bodyProtein/N_to_protein());</span>
<a name="l00589"></a>00589    <a class="code" href="classcattle.html#a0579aa4830ea3b218896c017e61fc904">ME_intake</a>    =0.0;
<a name="l00590"></a>00590    <a class="code" href="classcattle.html#aabaeb5143d3c02eebe3ef676319fb5a0">FE_intake</a>    =0.0;
<a name="l00591"></a>00591    <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a>    =0.0;
<a name="l00592"></a>00592    <a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>  =0.0;
<a name="l00593"></a>00593 <span class="comment">//   EndBudget(false);</span>
<a name="l00594"></a>00594 }
<a name="l00595"></a><a class="code" href="classcattle.html#ab41b2206b12b2f5bd16dd817960315bd">00595</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#ab41b2206b12b2f5bd16dd817960315bd">cattle::InitialiseFoetus</a>()
<a name="l00596"></a>00596 {
<a name="l00597"></a>00597  <a class="code" href="classcattle.html#ad9f7a3fc99cb90f4634ea36a8af5b15d">SetbodyProtein</a>(<a class="code" href="classcattle.html#a8643521d1530588eeff5d92013063038">CalcFoetusProtein</a>(0.0)/1000.0);
<a name="l00598"></a>00598  <a class="code" href="classcattle.html#a356e6940e7396a01a860fbc853ecc144">SetbodyFat</a>(<a class="code" href="classcattle.html#ad24d13fc2005a194019309ce8f47f7d2">CalcFoetusFat</a>(0.0)/1000.0);
<a name="l00599"></a>00599  <a class="code" href="classcattle.html#a89311923c18e5e7abbd67339f150a077">Setweight</a>(<a class="code" href="classcattle.html#a46b5f1e591b420acb2e2ce0e69aef5fe">GetFoetusWeight</a>(0.0));
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00605"></a><a class="code" href="classcattle.html#a5b3d8710accc9b14ac6881ed758fe4ae">00605</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a5b3d8710accc9b14ac6881ed758fe4ae">cattle::Get_norm_weight</a>()
<a name="l00606"></a>00606 {
<a name="l00607"></a>00607    <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: Get_norm_weight() - this should be called from an overloaded function&quot;</span>);
<a name="l00608"></a>00608    <span class="keywordflow">return</span> 0.0;
<a name="l00609"></a>00609 }
<a name="l00610"></a>00610 
<a name="l00614"></a><a class="code" href="classcattle.html#a119738767d9cf6ef205a9e097f5f0fd6">00614</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a119738767d9cf6ef205a9e097f5f0fd6">cattle::GetCattleN</a>()
<a name="l00615"></a>00615 {
<a name="l00616"></a>00616         <span class="keywordtype">double</span> NRemaining=<a class="code" href="classcattle.html#a8603e5213d0e6f8fecf19151c391d682">GetCowN</a>();
<a name="l00617"></a>00617    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>)
<a name="l00618"></a>00618         NRemaining+=(<a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>-&gt;<a class="code" href="classcattle.html#ae19ec8afe91d65ef9b60eecc36acbffd">GetbodyProtein</a>())/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();
<a name="l00619"></a>00619         <span class="keywordflow">return</span> <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * NRemaining;
<a name="l00620"></a>00620 }
<a name="l00621"></a>00621 
<a name="l00625"></a><a class="code" href="classcattle.html#a8603e5213d0e6f8fecf19151c391d682">00625</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a8603e5213d0e6f8fecf19151c391d682">cattle::GetCowN</a>()
<a name="l00626"></a>00626 {
<a name="l00627"></a>00627         <span class="keywordtype">double</span> NRemaining=0;
<a name="l00628"></a>00628    NRemaining=<a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();
<a name="l00629"></a>00629    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>)
<a name="l00630"></a>00630         NRemaining+=(<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#ae19ec8afe91d65ef9b60eecc36acbffd">GetbodyProtein</a>())/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();
<a name="l00631"></a>00631         <span class="keywordflow">return</span> NRemaining;
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00639"></a><a class="code" href="classcattle.html#aa66ca48a07bdaec8a2b280c47f6cc509">00639</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#aa66ca48a07bdaec8a2b280c47f6cc509">cattle::Get_availability_factor</a>( <span class="keywordtype">double</span> herbage_mass)
<a name="l00640"></a>00640 {
<a name="l00641"></a>00641  <span class="keywordtype">double</span> factor;
<a name="l00642"></a>00642  <span class="keywordflow">if</span> (herbage_mass&gt;3.0) factor = 1.0;   <span class="comment">//to avoid exp function going bonkers for large herbage masses</span>
<a name="l00643"></a>00643  <span class="keywordflow">else</span>
<a name="l00644"></a>00644  {
<a name="l00645"></a>00645    factor = 1.0; <span class="comment">// !!!!!!!!!!!!!!!!!!!!!!!!!!</span>
<a name="l00646"></a>00646    <span class="keywordflow">if</span> (herbage_mass&lt;0.25)
<a name="l00647"></a>00647       factor=0.0;
<a name="l00648"></a>00648 <span class="comment">//   factor = 1.0-exp(-5.0*herbage_mass); // earlier value 5 !!!</span>
<a name="l00649"></a>00649  }
<a name="l00650"></a>00650  <span class="keywordflow">if</span> ((factor&lt;0.0)||(factor&gt;1.0))
<a name="l00651"></a>00651  {
<a name="l00652"></a>00652          cout &lt;&lt; herbage_mass &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; factor &lt;&lt; endl;
<a name="l00653"></a>00653         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;uk_cattle: Availability factor less than zero og bigger than one!&quot;</span>);
<a name="l00654"></a>00654   }
<a name="l00655"></a>00655  <span class="keywordflow">return</span> factor;
<a name="l00656"></a>00656 }
<a name="l00657"></a>00657 
<a name="l00664"></a><a class="code" href="classcattle.html#abefde6a746b3d6d1d699225494f93022">00664</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#abefde6a746b3d6d1d699225494f93022">cattle::DoSelection</a>(<a class="code" href="classlink_list.html" title="Utility link list class.">linkList &lt;feed_resource&gt;</a> * alist, <span class="keywordtype">int</span> * count)
<a name="l00665"></a>00665 {
<a name="l00666"></a>00666         <span class="keywordtype">int</span> counter;
<a name="l00667"></a>00667         <a class="code" href="nixcbits_8h.html#a68ab5d5d2952c9fb1dda8c9c933238c8">temp_double_array</a> palatabilities;                                                                       <span class="comment">// stores palatabilities</span>
<a name="l00668"></a>00668         <a class="code" href="nixcbits_8h.html#a9591c51efe1722a99382057dd6042cce">temp_ptr_array</a> ptrlist;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670    <span class="keywordflow">if</span>(!<a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>)
<a name="l00671"></a>00671                 <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle::&quot;</span>, <a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>(),<span class="stringliteral">&quot; feedPlanList not present&quot;</span>);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673    <a class="code" href="classfeed__resource.html">feed_resource</a> *aFeed_resource;
<a name="l00674"></a>00674         <span class="keywordtype">int</span> Hi=0;
<a name="l00675"></a>00675         <span class="comment">// intlize alist, palatabilities and Hi;</span>
<a name="l00676"></a>00676    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>-&gt;<a class="code" href="classclone_list.html#a8f54a13007e33d1a1f08f77a0bd70927">NumOfNodes</a>(); i++)
<a name="l00677"></a>00677    {
<a name="l00678"></a>00678                 <a class="code" href="classproduct.html">product</a> * menuPtr = <a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>-&gt;<a class="code" href="classclone_list.html#a761c3700fcf12c3f48b3c34d2a0aef7f">ElementAtNumber</a>(i);
<a name="l00679"></a>00679       aFeed_resource = <a class="code" href="classcattle.html#a30cf96265a9fbfec7859bd1e62730088">GetFeedItem</a>(menuPtr);      <span class="comment">//returns copy of the feed resource. Gets stored feed if available, otherwise table values used</span>
<a name="l00680"></a>00680                                                                                 <span class="comment">// for debugging   tempfeedList-&gt;InsertLast(aFeed_resource);</span>
<a name="l00681"></a>00681         <span class="keywordflow">if</span> ((aFeed_resource-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>() - aFeed_resource-&gt;<a class="code" href="classlive_matter.html#a7b016854c1d3b40807216315b031263a">Getorganic</a>())&lt;0.0)
<a name="l00682"></a>00682                                                            <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;org&quot;</span>);
<a name="l00683"></a>00683                 alist-&gt;<a class="code" href="classlink_list.html#a5ef6013a096b9065c2c362fcd5113413" title="Inserts a new node at the end of the list.">InsertLast</a>(aFeed_resource);
<a name="l00684"></a>00684       <span class="comment">//get DM palatabilities</span>
<a name="l00685"></a>00685                 palatabilities[Hi]=<a class="code" href="classcattle.html#aeac6984f3aed6a1b0c37b609ffdbc02a">GetPalatability</a>(aFeed_resource);
<a name="l00686"></a>00686                 Hi++;
<a name="l00687"></a>00687    }
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 <span class="preprocessor">#ifndef _STANDALONE</span>
<a name="l00690"></a>00690 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>)
<a name="l00691"></a>00691    {
<a name="l00692"></a>00692         <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a>&lt;24.0)
<a name="l00693"></a>00693       {
<a name="l00694"></a>00694         <span class="keywordtype">double</span> beta = 0.005;
<a name="l00695"></a>00695          <span class="keywordtype">double</span> grazedArea = 0.0;
<a name="l00696"></a>00696        <span class="comment">// request the fields/pastures to generate grazing resource objects</span>
<a name="l00697"></a>00697          <span class="keywordtype">int</span> totGrazableFields = <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#aee3f890e4e8f48db1518e5114d5bcca8" title="Returned total number of nodes.">NumOfNodes</a>();
<a name="l00698"></a>00698          <span class="keywordflow">if</span> (totGrazableFields==0)
<a name="l00699"></a>00699                  <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: animals at pasture but no fields selected for grazing&quot;</span>);
<a name="l00700"></a>00700 
<a name="l00701"></a>00701          <span class="keywordflow">if</span> (totGrazableFields==0) <a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a> = 24.0;  <span class="comment">//otherwise animal will try and send manure to non-existent fields - should not occur!!</span>
<a name="l00702"></a>00702         <span class="comment">//calculated grazedArea</span>
<a name="l00703"></a>00703          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;totGrazableFields; i++)
<a name="l00704"></a>00704          {
<a name="l00705"></a>00705             <a class="code" href="classfield.html">field</a> *aField = <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#a5735a6e54a2eed841bdf1fdb52aed03f" title="Return the address of the node with a given logical number in the list.">ElementAtNumber</a>(i);
<a name="l00706"></a>00706             grazedArea+=aField-&gt;<a class="code" href="classfield.html#ac4c5edc4de9c9035c58c7204356a12b0">GetArea</a>();
<a name="l00707"></a>00707          }
<a name="l00708"></a>00708          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;totGrazableFields; i++)
<a name="l00709"></a>00709          {
<a name="l00710"></a>00710           <a class="code" href="classfield.html">field</a> *aField = <a class="code" href="classcattle.html#aac3175b986188a50d979ab1cac4af3ea">fieldList</a>-&gt;<a class="code" href="classlink_list.html#a5735a6e54a2eed841bdf1fdb52aed03f" title="Return the address of the node with a given logical number in the list.">ElementAtNumber</a>(i);
<a name="l00711"></a>00711           <span class="keywordtype">int</span> numOfPatches = aField-&gt;<a class="code" href="classfield.html#aebe4396575cb69945b1aa60e4837f48c">GetNumOfPatches</a>();
<a name="l00712"></a>00712           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0;j&lt;numOfPatches; j++)
<a name="l00713"></a>00713           {
<a name="l00714"></a>00714             <a class="code" href="classpatch.html">patch</a> * aPatch = aField-&gt;<a class="code" href="classfield.html#a1c1d7b0d34468d382915e228f29d13ea">GetPatch</a>(j);
<a name="l00715"></a>00715             <span class="comment">// update my_resource</span>
<a name="l00716"></a>00716             aPatch-&gt;<a class="code" href="classpatch.html#a2b8f90d5a3bb56be406d4225d477d8a5" title="calculates then returns an object describing the animal feed available within the patch...">GetFeedResource</a>(0.0, 0.0, 1); <span class="comment">//parameters - stubble height as proportion of patch height, minimum stubble ht (m) and animal type (cattle = 1)</span>
<a name="l00717"></a>00717             aFeed_resource = <span class="keyword">new</span> <a class="code" href="classfeed__resource.html">feed_resource</a>(*(<a class="code" href="classfeed__resource.html">feed_resource</a>*) aPatch-&gt;<a class="code" href="classpatch.html#a81ef82ba67a54c62690a8b3139a2e3a8" title="return the date on which the patch was formed">Getmy_resource</a>());
<a name="l00718"></a>00718             <span class="keywordtype">double</span> maxAvailThisSource = aFeed_resource-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * aFeed_resource-&gt;<a class="code" href="classfeed__resource.html#ab215e26134aa4e9a7fa1f9231a9383a9">Getarea_occupied</a>() * beta/(grazedArea);
<a name="l00719"></a>00719             aFeed_resource-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(maxAvailThisSource);
<a name="l00720"></a>00720             <span class="keywordflow">if</span> (aFeed_resource-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()&gt;1000.0)
<a name="l00721"></a>00721                <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: error in feed resource diet&quot;</span>);
<a name="l00722"></a>00722             alist-&gt;<a class="code" href="classlink_list.html#a5ef6013a096b9065c2c362fcd5113413" title="Inserts a new node at the end of the list.">InsertLast</a>(aFeed_resource);
<a name="l00723"></a>00723                                 palatabilities[Hi]=<a class="code" href="classcattle.html#aeac6984f3aed6a1b0c37b609ffdbc02a">GetPalatability</a>(aFeed_resource) * <a class="code" href="classcattle.html#a532030c30439fc60896d2a6018b877ad">GetAcceptanceFactor</a>(aFeed_resource);
<a name="l00724"></a>00724             Hi++;
<a name="l00725"></a>00725           }
<a name="l00726"></a>00726          }
<a name="l00727"></a>00727        }
<a name="l00728"></a>00728    }
<a name="l00729"></a>00729 <span class="preprocessor">#endif</span>
<a name="l00730"></a>00730 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (Hi==0) <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle: no feed available!!&quot;</span>);
<a name="l00731"></a>00731 <span class="comment">// Sort feed resources according to OMD</span>
<a name="l00732"></a>00732    Hi--;
<a name="l00733"></a>00733    <span class="keywordflow">for</span> (counter=Hi;counter&gt;=0;counter--)
<a name="l00734"></a>00734         ptrlist[counter]=(<span class="keywordtype">void</span>*) alist-&gt;<a class="code" href="classlink_list.html#a5735a6e54a2eed841bdf1fdb52aed03f" title="Return the address of the node with a given logical number in the list.">ElementAtNumber</a>(counter);
<a name="l00735"></a>00735    <span class="comment">// Below is the &quot;Combsort&quot; sorting algorithm, which is nearly as fast as</span>
<a name="l00736"></a>00736    <span class="comment">// Quicksort, and does not require extra space on heap and stack, i.e. more</span>
<a name="l00737"></a>00737    <span class="comment">// suited for this purpose than the implemented Quicksort (bmp).</span>
<a name="l00738"></a>00738 <span class="comment">//      Comsort(palatabilities, ptrlist, Hi);</span>
<a name="l00739"></a>00739    <a class="code" href="nixcbits_8cpp.html#af37b7651936493166c846a830293075f">quicksort2</a>(palatabilities,ptrlist,0,Hi);  <span class="comment">//rank patches in order of digestibility}</span>
<a name="l00740"></a>00740    alist-&gt;<a class="code" href="classlink_list.html#a8005163404c8378ebb3b34d0e21da338" title="Delete all notes without deleting the elements.">ForgetAll</a>();
<a name="l00741"></a>00741    <span class="keywordflow">for</span> (counter=0;counter&lt;=Hi;counter++)
<a name="l00742"></a>00742    {
<a name="l00743"></a>00743                 alist-&gt;<a class="code" href="classlink_list.html#a5ef6013a096b9065c2c362fcd5113413" title="Inserts a new node at the end of the list.">InsertLast</a>((<a class="code" href="classfeed__resource.html">feed_resource</a>*) ptrlist[counter]);
<a name="l00744"></a>00744    }
<a name="l00745"></a>00745    *count=Hi;
<a name="l00746"></a>00746 }
<a name="l00747"></a>00747 
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 
<a name="l00753"></a><a class="code" href="classcattle.html#a4c5d739e38ea76e5615b53e5f588d771">00753</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a4c5d739e38ea76e5615b53e5f588d771">cattle::DryOff</a>()
<a name="l00754"></a>00754 {
<a name="l00755"></a>00755         <a class="code" href="classcattle.html#a9d5b8f99a41523eb8c0792e49492e350">lactating</a> = <span class="keyword">false</span>;
<a name="l00756"></a>00756 }
<a name="l00761"></a><a class="code" href="classcattle.html#ac747b39751d40739d2b1c00246e65c7d">00761</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#ac747b39751d40739d2b1c00246e65c7d">cattle::ShowCurrentDiet</a>(fstream * fs)
<a name="l00762"></a>00762 {
<a name="l00763"></a>00763    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>-&gt;<a class="code" href="classclone_list.html#a8f54a13007e33d1a1f08f77a0bd70927">NumOfNodes</a>(); i++)
<a name="l00764"></a>00764    {
<a name="l00765"></a>00765                 <a class="code" href="classfeed__resource.html">feed_resource</a> * menuPtr = (<a class="code" href="classfeed__resource.html">feed_resource</a>*) <a class="code" href="classcattle.html#ae291a15ac3fdf87ec6821d460d819b77">feedPlanList</a>-&gt;<a class="code" href="classclone_list.html#a761c3700fcf12c3f48b3c34d2a0aef7f">ElementAtNumber</a>(i);
<a name="l00766"></a>00766       <span class="keywordflow">if</span> (fs)
<a name="l00767"></a>00767                 *fs &lt;&lt; menuPtr;
<a name="l00768"></a>00768       <span class="keywordflow">else</span>
<a name="l00769"></a>00769       cout &lt;&lt; menuPtr;
<a name="l00770"></a>00770    }
<a name="l00771"></a>00771 }
<a name="l00772"></a>00772 
<a name="l00776"></a><a class="code" href="classcattle.html#a66a96c0c6ec89204ed6b11b8393f8014">00776</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a66a96c0c6ec89204ed6b11b8393f8014">cattle::WriteCowOutput</a>(<span class="keywordtype">bool</span> header)
<a name="l00777"></a>00777 {
<a name="l00778"></a>00778         <span class="keywordflow">if</span> (header)
<a name="l00779"></a>00779    {
<a name="l00780"></a>00780       *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; <span class="stringliteral">&quot;date&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;age&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;emptyBodyWeight&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM_intake&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;ME_intake&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE_intake&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l00781"></a>00781          &lt;&lt; <span class="stringliteral">&quot;feedN&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;AAT&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;limit&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;foetusWt&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>  &lt;&lt; <span class="stringliteral">&quot;milkYield&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;dungN&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l00782"></a>00782          &lt;&lt; <span class="stringliteral">&quot;urineN&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;milkN&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;growthN&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;feedGrp&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;housed&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00783"></a>00783           <span class="stringliteral">&quot;code1&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM1&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE1&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00784"></a>00784           <span class="stringliteral">&quot;code2&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM2&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE2&quot;</span> &lt;&lt;<span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00785"></a>00785           <span class="stringliteral">&quot;code3&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM3&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE3&quot;</span> &lt;&lt;<span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00786"></a>00786           <span class="stringliteral">&quot;code4&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM4&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE4&quot;</span> &lt;&lt;<span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00787"></a>00787           <span class="stringliteral">&quot;code5&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM5&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE5&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00788"></a>00788           <span class="stringliteral">&quot;code6&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM6&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE6&quot;</span> &lt;&lt;<span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00789"></a>00789           <span class="stringliteral">&quot;code7&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM7&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE7&quot;</span> &lt;&lt;<span class="stringliteral">&quot;\t&quot;</span> &lt;&lt;
<a name="l00790"></a>00790           <span class="stringliteral">&quot;code8&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;DM8&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <span class="stringliteral">&quot;FE8&quot;</span> &lt;&lt;
<a name="l00791"></a>00791           endl;
<a name="l00792"></a>00792    }
<a name="l00793"></a>00793    <span class="keywordflow">else</span>
<a name="l00794"></a>00794    {
<a name="l00795"></a>00795       *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; <a class="code" href="bstime_8h.html#ac0dc3834220ee5ae84c115e146194d75">theTime</a>.<a class="code" href="classbs_time.html#afcb5953580c085bce20eb33a4b21e155">GetYear</a>() &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; <a class="code" href="bstime_8h.html#ac0dc3834220ee5ae84c115e146194d75">theTime</a>.<a class="code" href="classbs_time.html#a777a59c97951688c4b2a67c4b0bca16e">GetMonth</a>() &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; <a class="code" href="bstime_8h.html#ac0dc3834220ee5ae84c115e146194d75">theTime</a>.<a class="code" href="classbs_time.html#a3b4126cf9db93be0c2f69549699730d3">GetDay</a>() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
<a name="l00796"></a>00796       <span class="keywordtype">double</span> foetusWeight = 0.0;
<a name="l00797"></a>00797       <span class="keywordtype">double</span> growthN =0.0;  <span class="comment">//does not include growth in uterus protein</span>
<a name="l00798"></a>00798       <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>)
<a name="l00799"></a>00799       {
<a name="l00800"></a>00800          foetusWeight=<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a32f9c2c17b16e891f8e208754865d734">Getweight</a>();
<a name="l00801"></a>00801          growthN+=<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a31cf342857dea26371d0da77baec3b99">Getgrowth</a>()-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a31cf342857dea26371d0da77baec3b99">Getgrowth</a>()-&gt;<a class="code" href="classlive_matter.html#a1688ff189b2809aeefd3b25b74f8446d">GetTotalN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> * 1000.0;
<a name="l00802"></a>00802       }
<a name="l00803"></a>00803       growthN+=<a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classlive_matter.html#a1688ff189b2809aeefd3b25b74f8446d">GetTotalN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> * 1000.0;
<a name="l00804"></a>00804       <span class="keywordtype">double</span> milkYield=0.0;
<a name="l00805"></a>00805       <span class="keywordtype">double</span> milkN =0.0;
<a name="l00806"></a>00806       <span class="keywordflow">if</span> (<a class="code" href="classmilk.html">milk</a>)
<a name="l00807"></a>00807       {
<a name="l00808"></a>00808          milkYield=<a class="code" href="classmilk.html">milk</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * 1000.0;
<a name="l00809"></a>00809          milkN=milkYield * 1000.0 * <a class="code" href="classmilk.html">milk</a>-&gt;GetorgN_content().n;
<a name="l00810"></a>00810       }
<a name="l00811"></a>00811       <span class="keywordtype">double</span> feedN=<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#a1688ff189b2809aeefd3b25b74f8446d">GetTotalN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a>*1000000.0;
<a name="l00812"></a>00812       <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a3abd49d3221dd7a38255a4bffd7770b3">dungN</a> = <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a1688ff189b2809aeefd3b25b74f8446d">GetTotalN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> * <a class="code" href="classanimal.html#a33be7bd5359038d124130c3ca62e44ee">solidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * 1000000/<a class="code" href="classanimal.html#acaf29d614c9931e3ddc1e39447d5b2f8">GetNumber</a>();
<a name="l00813"></a>00813       <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a6743facaa4de4b92350ef52cc2e6b8ed">urineN</a> = <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classlive_matter.html#a1688ff189b2809aeefd3b25b74f8446d">GetTotalN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> * <a class="code" href="classanimal.html#a7ffc4d8f055968d726673566f78f783f">fluidManurePrDay</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * 1000000/<a class="code" href="classanimal.html#acaf29d614c9931e3ddc1e39447d5b2f8">GetNumber</a>();
<a name="l00814"></a>00814       *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; <a class="code" href="classcattle.html#abffa75c5af0af11f66f1217329dc71b2">age</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classcattle.html#a0579aa4830ea3b218896c017e61fc904">ME_intake</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classcattle.html#aabaeb5143d3c02eebe3ef676319fb5a0">FE_intake</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l00815"></a>00815             &lt;&lt; feedN &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>  &lt;&lt; 1000.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>()*<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#af006fe328a679e742fea693274e4cd18">Getaat</a>() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>  &lt;&lt; <a class="code" href="classcattle.html#a00961d35073fae6a1a1e81dfaad97d12">limitation</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; foetusWeight &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>
<a name="l00816"></a>00816             &lt;&lt; milkYield &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; dungN &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; urineN &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; milkN &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; growthN &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classcattle.html#a7cf86b18583399992fc6d0ed510a6b95">feedingGroup</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classcattle.html#ae5c1f207860f644db590c44eb6ae082b">hoursHoused</a> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> ;
<a name="l00817"></a>00817       <span class="keywordtype">double</span> grazedHerbageDM=0.0;
<a name="l00818"></a>00818       <span class="keywordtype">double</span> grazedHerbageFE=0.0;
<a name="l00819"></a>00819       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> counter=0;counter&lt;<a class="code" href="classcattle.html#a80820ab424613acc46294b15335b7507">feedUseList</a>-&gt;<a class="code" href="classclone_list.html#a8f54a13007e33d1a1f08f77a0bd70927">NumOfNodes</a>();counter++)
<a name="l00820"></a>00820       {
<a name="l00821"></a>00821         <a class="code" href="classfeed__resource.html">feed_resource</a> * aFeedResource = (<a class="code" href="classfeed__resource.html">feed_resource</a> *) <a class="code" href="classcattle.html#a80820ab424613acc46294b15335b7507">feedUseList</a>-&gt;<a class="code" href="classclone_list.html#a761c3700fcf12c3f48b3c34d2a0aef7f">ElementAtNumber</a>(counter);
<a name="l00822"></a>00822 <span class="comment">//            *afile &lt;&lt; aFeedResource-&gt;GetCode() &lt;&lt; &quot;\t&quot; &lt;&lt; aFeedResource-&gt;GetAmount() * aFeedResource-&gt;GetdryMatter() &lt;&lt; &quot;\t&quot;;</span>
<a name="l00823"></a>00823                         <span class="keywordflow">if</span> (aFeedResource-&gt;<a class="code" href="classlive_matter.html#afd7dcfed0138fc12d81d29aa586c5c73">GetCode</a>()&lt;1000)
<a name="l00824"></a>00824                       *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; aFeedResource-&gt;<a class="code" href="classlive_matter.html#afd7dcfed0138fc12d81d29aa586c5c73">GetCode</a>() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; aFeedResource-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * aFeedResource-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>() * 1000.0
<a name="l00825"></a>00825             &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; aFeedResource-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * aFeedResource-&gt;<a class="code" href="classfeed_item.html#a314101a64ec737a5927486a170221354">GetfeedUnitsPerItemUnit</a>() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
<a name="l00826"></a>00826          <span class="keywordflow">else</span>
<a name="l00827"></a>00827          {
<a name="l00828"></a>00828                 grazedHerbageDM+=aFeedResource-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * aFeedResource-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>() * 1000.0;
<a name="l00829"></a>00829                 grazedHerbageFE+=aFeedResource-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>() * aFeedResource-&gt;<a class="code" href="classfeed_item.html#a314101a64ec737a5927486a170221354">GetfeedUnitsPerItemUnit</a>();
<a name="l00830"></a>00830          }
<a name="l00831"></a>00831       }
<a name="l00832"></a>00832       <span class="keywordflow">if</span> (grazedHerbageDM&gt;0.0)
<a name="l00833"></a>00833       {
<a name="l00834"></a>00834         *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; <span class="stringliteral">&quot;1000+&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; grazedHerbageDM &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
<a name="l00835"></a>00835         *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; <span class="stringliteral">&quot;1000+&quot;</span> &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; grazedHerbageFE &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
<a name="l00836"></a>00836       }
<a name="l00837"></a>00837       *<a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> &lt;&lt; endl;
<a name="l00838"></a>00838    }
<a name="l00839"></a>00839 <span class="comment">//   detailsFile-&gt;close();</span>
<a name="l00840"></a>00840 }
<a name="l00841"></a>00841 
<a name="l00845"></a><a class="code" href="classcattle.html#a3d331307509c0f26ab8ae6b2f890f889">00845</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a3d331307509c0f26ab8ae6b2f890f889">cattle::CreateDetailFile</a>(<span class="keywordtype">int</span> Num)
<a name="l00846"></a>00846 {
<a name="l00847"></a>00847    <a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a> = <span class="keyword">new</span> fstream();
<a name="l00848"></a>00848    <span class="keywordtype">char</span> filename[20];
<a name="l00849"></a>00849    <span class="keywordtype">char</span> stub[20];
<a name="l00850"></a>00850    <span class="keyword">const</span> <span class="keywordtype">char</span> * name=<a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>();
<a name="l00851"></a>00851    sprintf(stub,name);
<a name="l00852"></a>00852 
<a name="l00853"></a>00853    sprintf(<a class="code" href="classcattle.html#a70bffbbd0dba38315fa124c06b4c8814">detailsFileName</a>,<a class="code" href="system_data_8h.html#a76e0b93133ea900729e1fa09c9ad6d5c">theSystemData</a>-&gt;<a class="code" href="classsystem_data.html#a836f74ba0df2cec8f0768226595953c0">getOutputDirectory</a>().c_str());
<a name="l00854"></a>00854    strcat(<a class="code" href="classcattle.html#a70bffbbd0dba38315fa124c06b4c8814">detailsFileName</a>,stub);
<a name="l00855"></a>00855    sprintf(filename,<span class="stringliteral">&quot;%d.xls&quot;</span>,Num);
<a name="l00856"></a>00856    strcat(<a class="code" href="classcattle.html#a70bffbbd0dba38315fa124c06b4c8814">detailsFileName</a>,filename);
<a name="l00857"></a>00857    <a class="code" href="classcattle.html#a484fc80eeb5bf6fdcc1e4f0a43a647b0">detailsFile</a>-&gt;open(<a class="code" href="classcattle.html#a70bffbbd0dba38315fa124c06b4c8814">detailsFileName</a>, ios::out);
<a name="l00858"></a>00858 <span class="comment">/*   cout &lt;&lt; &quot;creating &quot; &lt;&lt; leader &lt;&lt; endl;</span>
<a name="l00859"></a>00859 <span class="comment">   if (Num==36)</span>
<a name="l00860"></a>00860 <span class="comment">   cout &lt;&lt; &quot;&quot;;                           */</span>
<a name="l00861"></a>00861    <a class="code" href="classcattle.html#a66a96c0c6ec89204ed6b11b8393f8014">WriteCowOutput</a>(<span class="keyword">true</span>);
<a name="l00862"></a>00862 }
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 
<a name="l00865"></a>00865 
<a name="l00869"></a><a class="code" href="classcattle.html#a19fcd794dfdaba6c37698d04a5056423">00869</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a19fcd794dfdaba6c37698d04a5056423">cattle::GrowFoetus</a>(<span class="keywordtype">double</span> newFoetusProtein, <span class="keywordtype">double</span> newFoetusFat, <span class="keywordtype">double</span> newFoetus)   <span class="comment">//these should be in kg</span>
<a name="l00870"></a>00870 {
<a name="l00871"></a>00871         <span class="keywordflow">if</span> (!<a class="code" href="classcattle.html#a737451b41bd16074e295e3c395d17745">isFoetus</a>)
<a name="l00872"></a>00872         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle:GrowFoetus - this animal is not a foetus!&quot;</span>);
<a name="l00873"></a>00873    <span class="keywordflow">else</span>
<a name="l00874"></a>00874    {
<a name="l00875"></a>00875       <a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a>+=newFoetusProtein;
<a name="l00876"></a>00876       <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(newFoetusProtein/<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>());
<a name="l00877"></a>00877       <a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a>+=newFoetusFat;
<a name="l00878"></a>00878       <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#ad619d773e77931df0435e8c08314f68e">AddInput</a>(<a class="code" href="classanimal.html#a03c49c3eccec4f4eec1275bd707595ab">GetCarbon</a>(newFoetusFat,newFoetusProtein));
<a name="l00879"></a>00879       <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(newFoetus);
<a name="l00880"></a>00880       <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classlive_matter.html#adbb45be219dd863cfad2b5e97cde1508">SetorgN_content</a>(newFoetusProtein/(<a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>() * newFoetus));
<a name="l00881"></a>00881       <a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classlive_matter.html#ac85d49a99a56f9f3e47822ebaf54cbaf">SetC_content</a>((<a class="code" href="classanimal.html#a03c49c3eccec4f4eec1275bd707595ab">GetCarbon</a>(newFoetusFat, newFoetusProtein))/newFoetus);
<a name="l00882"></a>00882       <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>+=newFoetus;
<a name="l00883"></a>00883       <a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>++;
<a name="l00884"></a>00884    }
<a name="l00885"></a>00885 }
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="comment">/*</span>
<a name="l00888"></a>00888 <span class="comment"> * Calculate methane production in g per day. Nice to know: why those default values and where does the fomula come from?</span>
<a name="l00889"></a>00889 <span class="comment"> */</span>
<a name="l00890"></a><a class="code" href="classcattle.html#a8053c5118595709cf95a6e54b2560024">00890</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a8053c5118595709cf95a6e54b2560024">cattle::GetMethaneProduction</a>()
<a name="l00891"></a>00891 {
<a name="l00892"></a>00892         <span class="keywordtype">double</span> methane = 0.0;
<a name="l00893"></a>00893    <span class="keywordtype">double</span> amountFeed = 1000.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>();
<a name="l00894"></a>00894    <span class="keywordtype">double</span> protein = <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ac4b95fdff5ad224d9aa1541589c64663">GetorgN_content</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a> * <a class="code" href="nixcbits_8cpp.html#a2ea878dfbe195112a4eb66ca7e322184">N_to_protein</a>();
<a name="l00895"></a>00895    <span class="keywordtype">double</span> a;
<a name="l00896"></a>00896 
<a name="l00897"></a>00897         <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#ae67ed13b4012cda6f63a11098520ff07">lactationNumber</a> == 0)
<a name="l00898"></a>00898         a = 16.0;
<a name="l00899"></a>00899    <span class="keywordflow">else</span>
<a name="l00900"></a>00900         a = 63.0;
<a name="l00901"></a>00901 
<a name="l00902"></a>00902    methane = a + amountFeed * (79 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a9dfd0196ca3903aa35cd16cf4347e24f">Getcell</a>() + 10 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a3ecdcc476b661f9bc22864de7ee4da56">CalcNFE</a>() +   <span class="comment">//from husdyrbrug rapport 54, vol 2, p336</span>
<a name="l00903"></a>00903                                         26 * protein - 212 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a83f57e603885d754d3bcdda09ab7957b">Getfat</a>());
<a name="l00904"></a>00904    <span class="keywordflow">if</span> (methane&lt;0.0)
<a name="l00905"></a>00905         methane=0.0; <span class="comment">// could be cos animals are young. Equation gives negative values for diets that are based on milk products</span>
<a name="l00906"></a>00906    <span class="keywordflow">return</span> methane;
<a name="l00907"></a>00907 }
<a name="l00908"></a>00908 
<a name="l00912"></a><a class="code" href="classcattle.html#ababba75682af1059250b4a92eedd4a64">00912</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#ababba75682af1059250b4a92eedd4a64">cattle::CalcGravidUterusProtein</a>(<span class="keywordtype">double</span> offset) <span class="comment">//weight in grams</span>
<a name="l00913"></a>00913 {
<a name="l00914"></a>00914   <span class="keywordtype">double</span> gravidUterusProtein= 1000.0 * exp(8.536 - 13.12 * exp(-0.00262*(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a> + offset)));
<a name="l00915"></a>00915   <span class="keywordtype">double</span> adjustment = <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>*0.07/40.0;
<a name="l00916"></a>00916   gravidUterusProtein*=adjustment;
<a name="l00917"></a>00917   <span class="keywordflow">return</span> gravidUterusProtein;
<a name="l00918"></a>00918 }
<a name="l00922"></a><a class="code" href="classcattle.html#a2b592878b7c6d87baff5414c008e9015">00922</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a2b592878b7c6d87baff5414c008e9015">cattle::CalcGravidUterusEnergy</a>(<span class="keywordtype">double</span> offset) <span class="comment">//weight in grams</span>
<a name="l00923"></a>00923 {
<a name="l00924"></a>00924   <span class="keywordtype">double</span> gravidUterusEnergy= exp(349.222 - 349.164 * exp(-0.0000576*(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a> + offset)));
<a name="l00925"></a>00925   <span class="keywordtype">double</span> adjustment = <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>*0.07/40.0;
<a name="l00926"></a>00926   gravidUterusEnergy*=adjustment;
<a name="l00927"></a>00927   <span class="keywordflow">return</span> gravidUterusEnergy;
<a name="l00928"></a>00928 }
<a name="l00929"></a>00929 
<a name="l00933"></a><a class="code" href="classcattle.html#a8643521d1530588eeff5d92013063038">00933</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a8643521d1530588eeff5d92013063038">cattle::CalcFoetusProtein</a>(<span class="keywordtype">double</span> offset)  <span class="comment">//weight in grams</span>
<a name="l00934"></a>00934 {
<a name="l00935"></a>00935   <span class="keywordtype">double</span> foetusProtein = 1000.0 * exp(5.358 - 15.229 * exp(-0.00538*(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a> + offset)));
<a name="l00936"></a>00936   <span class="keywordtype">double</span> adjustment = <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>*0.07/40.0;
<a name="l00937"></a>00937   foetusProtein*=adjustment;
<a name="l00938"></a>00938   <span class="keywordflow">return</span> foetusProtein;
<a name="l00939"></a>00939 }
<a name="l00940"></a>00940 
<a name="l00944"></a><a class="code" href="classcattle.html#ab26f4af3dee792b5979ef58083c46f58">00944</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#ab26f4af3dee792b5979ef58083c46f58">cattle::CalcFoetusEnergy</a>(<span class="keywordtype">double</span> offset)
<a name="l00945"></a>00945 {
<a name="l00946"></a>00946         <span class="keywordtype">double</span> FoetusEnergy = exp(11.946 - 16.595 * exp(-0.00334*(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a> + offset)));
<a name="l00947"></a>00947    <span class="keywordtype">double</span> adjustment = <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>*0.07/40.0;
<a name="l00948"></a>00948    FoetusEnergy*=adjustment;
<a name="l00949"></a>00949    <span class="keywordflow">return</span> FoetusEnergy;
<a name="l00950"></a>00950 }
<a name="l00951"></a>00951 
<a name="l00955"></a><a class="code" href="classcattle.html#ad24d13fc2005a194019309ce8f47f7d2">00955</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#ad24d13fc2005a194019309ce8f47f7d2">cattle::CalcFoetusFat</a>(<span class="keywordtype">double</span> offset)
<a name="l00956"></a>00956 {
<a name="l00957"></a>00957         <span class="keywordtype">double</span> <a class="code" href="classenergy.html">energy</a> = <a class="code" href="classcattle.html#ab26f4af3dee792b5979ef58083c46f58">CalcFoetusEnergy</a>(offset);
<a name="l00958"></a>00958    <span class="keywordtype">double</span> fat = 1000.0 * (energy - <a class="code" href="classcattle.html#a8643521d1530588eeff5d92013063038">CalcFoetusProtein</a>(offset) * 23.6/1000.0)/39.3;
<a name="l00959"></a>00959    <span class="keywordflow">return</span> fat;
<a name="l00960"></a>00960 }
<a name="l00961"></a>00961 
<a name="l00965"></a><a class="code" href="classcattle.html#a795f803883c77aae60e3c722fed59e6d">00965</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a795f803883c77aae60e3c722fed59e6d">cattle::CalcGravidUterusFat</a>(<span class="keywordtype">double</span> offset)
<a name="l00966"></a>00966 {
<a name="l00967"></a>00967         <span class="keywordtype">double</span> <a class="code" href="classenergy.html">energy</a> = <a class="code" href="classcattle.html#a2b592878b7c6d87baff5414c008e9015">CalcGravidUterusEnergy</a>(offset);
<a name="l00968"></a>00968    <span class="keywordtype">double</span> fat = 1000.0 * (energy - <a class="code" href="classcattle.html#ababba75682af1059250b4a92eedd4a64">CalcGravidUterusProtein</a>(offset) * 23.6/1000.0)/39.3;
<a name="l00969"></a>00969    <span class="keywordflow">return</span> fat;
<a name="l00970"></a>00970 }
<a name="l00971"></a>00971 
<a name="l00975"></a><a class="code" href="classcattle.html#a68445d9f0e164038d9046facfe259610">00975</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a68445d9f0e164038d9046facfe259610">cattle::GetCattleC</a>()
<a name="l00976"></a>00976 {
<a name="l00977"></a>00977  <span class="keywordtype">double</span> carbon = <a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>();
<a name="l00978"></a>00978  <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>)
<a name="l00979"></a>00979         carbon+=<a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>-&gt;<a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>();
<a name="l00980"></a>00980  <span class="keywordflow">return</span> <a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a> * carbon;
<a name="l00981"></a>00981 }
<a name="l00982"></a>00982 
<a name="l00986"></a><a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">00986</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">cattle::GetCowC</a>()
<a name="l00987"></a>00987 {
<a name="l00988"></a>00988  <span class="keywordtype">double</span> carbon = <a class="code" href="classcattle.html#ace40244cf83a23b5a874f5f0185807fa">bodyFat</a> *0.7581 + <a class="code" href="classcattle.html#adc9375abcc182c384874998ba6bfb91b">bodyProtein</a> * 0.52;
<a name="l00989"></a>00989  <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>)
<a name="l00990"></a>00990         carbon+=<a class="code" href="classcattle.html#a6b3f173720e6c3c4fd533edce88b7301">foetus</a>-&gt;<a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>();
<a name="l00991"></a>00991  <span class="keywordflow">return</span> carbon;
<a name="l00992"></a>00992 }
<a name="l00993"></a>00993 
<a name="l00998"></a><a class="code" href="classcattle.html#a583babf76f49e8ab7dab411195bcda2e">00998</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a583babf76f49e8ab7dab411195bcda2e">cattle::checkBalances</a>(<span class="keywordtype">bool</span> show)
<a name="l00999"></a>00999 {
<a name="l01000"></a>01000         <span class="keywordflow">if</span> (show)
<a name="l01001"></a>01001    {
<a name="l01002"></a>01002     cout &lt;&lt; <span class="stringliteral">&quot;N balance for &quot;</span> &lt;&lt; <a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>() &lt;&lt; endl;
<a name="l01003"></a>01003     cout &lt;&lt; <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>;
<a name="l01004"></a>01004     cout &lt;&lt; <span class="stringliteral">&quot;C balance for &quot;</span> &lt;&lt; <a class="code" href="classbase.html#a5b4079d3eb535e704fcaed3016c76ecb">GetName</a>() &lt;&lt; endl;
<a name="l01005"></a>01005     cout &lt;&lt; <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>;
<a name="l01006"></a>01006    }
<a name="l01007"></a>01007         <span class="keywordtype">double</span> NRemaining=0;
<a name="l01008"></a>01008         <span class="keywordtype">double</span> CRemaining=0;
<a name="l01009"></a>01009    NRemaining=<a class="code" href="classcattle.html#a8603e5213d0e6f8fecf19151c391d682">GetCowN</a>();
<a name="l01010"></a>01010    CRemaining=<a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>();
<a name="l01011"></a>01011    <a class="code" href="classanimal.html#abdcc86166e02106463ac356ffe91f258">Nbudget</a>.<a class="code" href="classbudget.html#a2814c71d2d504462defc2c85f2cd86b2">Balance</a>(NRemaining);
<a name="l01012"></a>01012    <a class="code" href="classanimal.html#a628e470a01f24baba08845a760574fa5">Cbudget</a>.<a class="code" href="classbudget.html#a2814c71d2d504462defc2c85f2cd86b2">Balance</a>(CRemaining);
<a name="l01013"></a>01013    <span class="keywordflow">if</span> (<a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>)
<a name="l01014"></a>01014         { <a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a>-&gt;<a class="code" href="classcattle.html#a583babf76f49e8ab7dab411195bcda2e">checkBalances</a>(show);}
<a name="l01015"></a>01015 }
<a name="l01016"></a>01016 
<a name="l01020"></a><a class="code" href="classcattle.html#a6301f605944f6071be0c63421353c375">01020</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a6301f605944f6071be0c63421353c375">cattle::GetMilkCconc</a>()
<a name="l01021"></a>01021 {
<a name="l01022"></a>01022  <span class="keywordtype">double</span> carbon = (<a class="code" href="classcattle.html#aa5a4f55d7d0575a6e828c212c84bc909">milkFatConc</a> *0.7016 + <a class="code" href="classcattle.html#a1d6da32047ee60f0cbdacee9519f16e3">milkProteinConc</a> * 0.533 + <a class="code" href="classcattle.html#a426bdf1c322f7dc4c5447fae45c259eb">lactoseConc</a> * 0.4205)/1000.0;
<a name="l01023"></a>01023  <span class="keywordflow">return</span> carbon;
<a name="l01024"></a>01024 }
<a name="l01025"></a>01025 
<a name="l01029"></a><a class="code" href="classcattle.html#add87f09e9b8ef0ed3ca7dcf9e4ac7172">01029</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#add87f09e9b8ef0ed3ca7dcf9e4ac7172">cattle::GetUrineVolume</a>()
<a name="l01030"></a>01030 {
<a name="l01031"></a>01031  <span class="keywordtype">double</span> sodiumPercent = 100.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a0f82281bae07b0e543d12b3bcd73ffb7">GetNa_content</a>()/<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>();
<a name="l01032"></a>01032  <span class="keywordtype">double</span> potassiumPercent = 100.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#accdc895062d3dbebf1277b565b1b72d3">GetK_content</a>()/<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>();
<a name="l01033"></a>01033  <span class="keywordtype">double</span> milkVol = 0.0;
<a name="l01034"></a>01034  <span class="keywordflow">if</span> (<a class="code" href="classmilk.html">milk</a>)
<a name="l01035"></a>01035         milkVol = 1000.0 *<a class="code" href="classmilk.html">milk</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>();
<a name="l01036"></a>01036  <span class="keywordtype">double</span> nitrogenPercent = 100.0 * <a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ac2063bf6ed8da618b7b2b2b47defaa12">GetAllN</a>().<a class="code" href="classnitrogen.html#aa708078375ba23f1dd31e08e28269dac">n</a>/<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classlive_matter.html#ad3d05f1e8ceedc99e214adca94638de0">GetdryMatter</a>();
<a name="l01037"></a>01037  <span class="keywordtype">double</span> urineVol = 1.3441 * <a class="code" href="classcattle.html#a57f185cfef76fec68f325e0197edc51b">DM_intake</a> * (1.079 * sodiumPercent + 0.5380 * potassiumPercent
<a name="l01038"></a>01038                                                         + 0.1266 * nitrogenPercent)
<a name="l01039"></a>01039                      - milkVol * (0.1216 + 0.0275 * <a class="code" href="classcattle.html#a1d6da32047ee60f0cbdacee9519f16e3">milkProteinConc</a>/10.0);
<a name="l01040"></a>01040  <span class="keywordflow">return</span> urineVol;
<a name="l01041"></a>01041 }
<a name="l01042"></a>01042 
<a name="l01046"></a><a class="code" href="classcattle.html#a680668c3ea07844f0dce5193f2f85b69">01046</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a680668c3ea07844f0dce5193f2f85b69">cattle::WeanCalf</a>()
<a name="l01047"></a>01047 {
<a name="l01048"></a>01048 <span class="comment">//   Nbudget.AddOutput(calf-&gt;GetbodyProtein()/N_to_protein());</span>
<a name="l01049"></a>01049 <span class="comment">//   Cbudget.AddOutput(GetCarbon(calf-&gt;GetbodyFat(),calf-&gt;GetbodyProtein()));</span>
<a name="l01050"></a>01050         <a class="code" href="classcattle.html#a98e2eb85c986738249c5ee54efcbdeba">calf</a> = NULL;
<a name="l01051"></a>01051 }
<a name="l01052"></a>01052 
<a name="l01056"></a><a class="code" href="classcattle.html#a532030c30439fc60896d2a6018b877ad">01056</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a532030c30439fc60896d2a6018b877ad">cattle::GetAcceptanceFactor</a>(<a class="code" href="classfeed__resource.html">feed_resource</a> *aFeed_resource)
<a name="l01057"></a>01057 {
<a name="l01058"></a>01058     <span class="keywordtype">double</span> ret_val = 1.0;
<a name="l01059"></a>01059     <span class="keywordflow">if</span> (aFeed_resource-&gt;<a class="code" href="classfeed__resource.html#a522cc52c960d9fc6bceb3bd173504a09">GetTime_since_dunged</a>() &gt; 0.0)
<a name="l01060"></a>01060     {
<a name="l01061"></a>01061         ret_val = <a class="code" href="classcattle.html#a54c41c4168fa7a8bf51dbab9c79c9b61">acceptanceCoefficient</a> * aFeed_resource-&gt;<a class="code" href="classfeed__resource.html#a522cc52c960d9fc6bceb3bd173504a09">GetTime_since_dunged</a>();
<a name="l01062"></a>01062         <span class="keywordflow">if</span> (ret_val&gt;1.0)
<a name="l01063"></a>01063        ret_val = 1.0;
<a name="l01064"></a>01064     }
<a name="l01065"></a>01065     <span class="keywordflow">return</span> ret_val;
<a name="l01066"></a>01066 }
<a name="l01067"></a>01067 
<a name="l01068"></a>01068 
<a name="l01069"></a>01069 
<a name="l01073"></a><a class="code" href="classcattle.html#a380c56c03be73c2b0bc0ce6f999a499e">01073</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#a380c56c03be73c2b0bc0ce6f999a499e">cattle::loadAnimalProduct</a>(<a class="code" href="classanimal_product.html">animalProduct</a> *anAnimalProduct)
<a name="l01074"></a>01074 {
<a name="l01075"></a>01075         <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a> = <a class="code" href="classcattle.html#a32f9c2c17b16e891f8e208754865d734">Getweight</a>();
<a name="l01076"></a>01076    <span class="keywordtype">double</span> N_content = <a class="code" href="classcattle.html#a8603e5213d0e6f8fecf19151c391d682">GetCowN</a>()/<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>;
<a name="l01077"></a>01077    anAnimalProduct-&gt;<a class="code" href="classanimal_product.html#ad101c1731a1048cdc54d290fd38b6467">SetN_content</a>(N_content);
<a name="l01078"></a>01078    <span class="keywordtype">double</span> C_content = <a class="code" href="classcattle.html#a01c489501d6d56cb3af7bd22e266bd1f">GetCowC</a>()/<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>;
<a name="l01079"></a>01079    anAnimalProduct-&gt;<a class="code" href="classlive_matter.html#ac85d49a99a56f9f3e47822ebaf54cbaf">SetC_content</a>(C_content);
<a name="l01080"></a>01080    anAnimalProduct-&gt;<a class="code" href="classanimal_product.html#af704d07b4515268baf6dff12906299aa">SetEndWeight</a>(weight);
<a name="l01081"></a>01081    anAnimalProduct-&gt;<a class="code" href="classproduct.html#a18ec2e96f1d9b7cef74c4b2800ebdca1">Setamount</a>(weight*<a class="code" href="classanimal.html#aecd025e91f381d7922621868cf5dad55">Number</a>);
<a name="l01082"></a>01082 }
<a name="l01083"></a>01083 
<a name="l01087"></a><a class="code" href="classcattle.html#a96d6a13910c586fc522ae1dbb11730d8">01087</a> <span class="keywordtype">double</span> <a class="code" href="classcattle.html#a96d6a13910c586fc522ae1dbb11730d8">cattle::GetSensibleHeatProduction</a>()
<a name="l01088"></a>01088 {
<a name="l01089"></a>01089         <span class="keywordtype">double</span> ret_val=0.0;
<a name="l01090"></a>01090    <span class="keywordtype">double</span> growthRate=<a class="code" href="classcattle.html#adda7b2882e426ad63090673d102d27bc">growth</a>-&gt;<a class="code" href="classproduct.html#a021ebef2da57e1d977cfe57e62c6e38b">GetAmount</a>();
<a name="l01091"></a>01091    <span class="keywordflow">if</span> ((<a class="code" href="classcattle.html#a9fe83aba5038189445bbcf6e96fd4977">isYoung</a>) &amp;&amp; (<a class="code" href="classcattle.html#ae28249dd21e1e0f2978c5cad7bf3f53f">isFemale</a>) &amp;&amp; !(<a class="code" href="classcattle.html#a457bb28e06317045be5fd9ebbac78d7e">pregnant</a>)) <span class="comment">//female calves</span>
<a name="l01092"></a>01092         ret_val = 6.44*pow(<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>,0.7)+(13.3 * growthRate*(6.28 + 0.0188*<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>))/(1-0.3*growthRate);
<a name="l01093"></a>01093    <span class="keywordflow">if</span> (!<a class="code" href="classcattle.html#ae28249dd21e1e0f2978c5cad7bf3f53f">isFemale</a>) <span class="comment">//male animals</span>
<a name="l01094"></a>01094         ret_val = 7.64*pow(<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>,0.69)+(13.3 * growthRate*((23.0/(<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a8691a50ce52a8c3da1d022cae9b4ff13">GetME</a>()/1000.0))-1)) *
<a name="l01095"></a>01095                                                         (57.27 + 0.302*<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>)/(1-0.171*growthRate);
<a name="l01096"></a>01096    <span class="keywordflow">if</span> ((<a class="code" href="classcattle.html#a457bb28e06317045be5fd9ebbac78d7e">pregnant</a>) &amp;&amp; (<a class="code" href="classcattle.html#ae67ed13b4012cda6f63a11098520ff07">lactationNumber</a>==0))<span class="comment">//pregnant heifers</span>
<a name="l01097"></a>01097         ret_val = 7.64*pow(<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>,0.69)+(13.3 * growthRate*((23.0/(<a class="code" href="classcattle.html#a1793c177cc739ddb54c8b0f21e1b83f9">currentDiet</a>-&gt;<a class="code" href="classfeed_item.html#a8691a50ce52a8c3da1d022cae9b4ff13">GetME</a>()/1000.0))-1)) *
<a name="l01098"></a>01098                                                         (57.27 + 0.302*<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>)/(1-0.171*growthRate) + 1.6*0.00001 * pow(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>,3);
<a name="l01099"></a>01099    <span class="keywordflow">if</span> ((<a class="code" href="classcattle.html#ae28249dd21e1e0f2978c5cad7bf3f53f">isFemale</a>) &amp;&amp; (<a class="code" href="classcattle.html#ae67ed13b4012cda6f63a11098520ff07">lactationNumber</a>&gt;0))<span class="comment">// mature cows</span>
<a name="l01100"></a>01100         ret_val = 5.6*pow(<a class="code" href="classcattle.html#a16519b87deea03a710cd5ce401fdb7ba">weight</a>,0.75)+ 22.0 * <a class="code" href="classcattle.html#a363b662f01ef25b47283840fd205c9e9">lastMilkYield</a> + 1.6*0.00001 * pow(<a class="code" href="classcattle.html#a7e36c3531d8ae149261394dbfd8f3a51">daysFromConception</a>,3);
<a name="l01101"></a>01101    <span class="keywordflow">if</span> (ret_val==0.0)
<a name="l01102"></a>01102         <a class="code" href="message_8h.html#a8ad29009121a629982c6ade0bd332470">theMessage</a>-&gt;<a class="code" href="classmessage.html#af9891cb7111375e6a36363afffb09d63">FatalError</a>(<span class="stringliteral">&quot;cattle:GetSensibleHeatProduction - could not find animal category&quot;</span>);
<a name="l01103"></a>01103    <span class="keywordtype">double</span> temperature = <a class="code" href="climate_8h.html#ad05fb99191dc4a9cb94e7f8c99280389">theClimate</a>-&gt;<a class="code" href="classclimate.html#a11e09f183aa8f5cd0514972bab9b4a22">GetMeanTemperature</a>();         <span class="comment">//assumes animals experience outside temperature - could be wrong in extreme climates</span>
<a name="l01104"></a>01104    <span class="keywordtype">double</span> temperatureAdjustment = 1+(4*(20-temperature))/1000.0;
<a name="l01105"></a>01105    ret_val*= temperatureAdjustment;
<a name="l01106"></a>01106    <span class="keywordflow">return</span> ret_val;
<a name="l01107"></a>01107 
<a name="l01108"></a>01108 }
<a name="l01109"></a>01109 
<a name="l01111"></a>01111 
<a name="l01116"></a><a class="code" href="classcattle.html#add40ebb87f1c1ca992ea47bbf4cc26eb">01116</a> <span class="keywordtype">void</span> <a class="code" href="classcattle.html#add40ebb87f1c1ca992ea47bbf4cc26eb" title="calculate the amount of fat and protein in our an animal of a particular empty body weight...">cattle::GetStandardComposition</a>(<span class="keywordtype">double</span> EBW, <span class="keywordtype">double</span> *fat, <span class="keywordtype">double</span> *protein)
<a name="l01117"></a>01117 {
<a name="l01118"></a>01118    <span class="comment">//first calculate the protein at birth, valid for 40kg EBW at birth</span>
<a name="l01119"></a>01119    <span class="keywordtype">double</span> birthProtein = 1000.0 * exp(5.358 - 15.229 * exp(-0.00538*<a class="code" href="classcattle.html#a59856200751c49a71847fa421bfada3c">gestationPeriod</a>));
<a name="l01120"></a>01120    <span class="comment">//calculate the adjustment required to scale for mature body weight</span>
<a name="l01121"></a>01121    <span class="keywordtype">double</span> birthWeight = <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>*0.07;
<a name="l01122"></a>01122    <span class="keywordtype">double</span> adjustment = birthWeight/40.0;
<a name="l01123"></a>01123    <span class="comment">//recalculate birthProtein for actual birth weight</span>
<a name="l01124"></a>01124    birthProtein*=adjustment;
<a name="l01125"></a>01125 
<a name="l01126"></a>01126    <span class="comment">//next calculate the energy at birth</span>
<a name="l01127"></a>01127    <span class="keywordtype">double</span> birthEnergy = exp(11.946 - 16.595 * exp(-0.00334*<a class="code" href="classcattle.html#a59856200751c49a71847fa421bfada3c">gestationPeriod</a>));
<a name="l01128"></a>01128    <span class="comment">//recalculate birthEnergy for actual birth weight</span>
<a name="l01129"></a>01129    birthEnergy*=adjustment;
<a name="l01130"></a>01130 
<a name="l01131"></a>01131    <span class="comment">//calculate birth fat</span>
<a name="l01132"></a>01132    <span class="keywordtype">double</span> birthFat = 1000.0 * (birthEnergy - birthProtein * 23.6/1000.0)/39.3;
<a name="l01133"></a>01133    <span class="keywordtype">double</span> matureFatContent = 250.0; <span class="comment">//fat content of empty body weight at maturity (p42, SCA (1990))</span>
<a name="l01134"></a>01134    <span class="keywordtype">double</span> matureFat =  matureFatContent * <a class="code" href="classcattle.html#aad8eac52b29c71be5b0f6da7b4b76a6c">MBW</a>;
<a name="l01135"></a>01135    *fat =  (birthFat + ((matureFat-birthFat)/(MBW- birthWeight)) * (EBW - birthWeight))/1000.0;
<a name="l01136"></a>01136 
<a name="l01137"></a>01137    <span class="keywordtype">double</span> matureProtein = 216 * (MBW - matureFat/1000.0);
<a name="l01138"></a>01138    *protein = (birthProtein + ((matureProtein - birthProtein)/(MBW - birthWeight)) * (EBW - birthWeight))/1000.0;
<a name="l01139"></a>01139 }
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Aug 22 2011 10:29:02 for Fasset by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
